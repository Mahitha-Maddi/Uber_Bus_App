(this.webpackJsonprxshell=this.webpackJsonprxshell||[]).push([[0],{112:function(e,t,a){e.exports=a.p+"static/media/uber1.71d49694.jpeg"},113:function(e,t,a){e.exports=a.p+"static/media/uber2.a6e3dd2b.jpeg"},114:function(e,t,a){e.exports=a.p+"static/media/uber3.f60d3656.jpeg"},115:function(e,t,a){e.exports=a.p+"static/media/uber4.0911d50c.jpeg"},151:function(e,t,a){e.exports=a(219)},156:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){e.exports=a.p+"static/media/home.2c088f8c.jpeg"},167:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},215:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(14),o=a.n(r),c=(a(156),a(40)),s=a(41),i=a(46),m=a(44),u=a(15),d=a(16),p=a(288),g=a(4),b=a(12),h=a(110),f=a(5),E=(a(157),a(22)),v=(a(158),a(289)),S=a(290),j=a(82),O=a(297),y=a(277),w=a(225),C=a(293),x=a(294),N=a(134),k=a.n(N),I=a(275),B=a(292),A=a(291),T=a(128),P=a.n(T),D=a(38),F=a.n(D),W=a(130),U=a.n(W),_=a(135),J=a.n(_),q=a(136),R=a.n(q),L=a(132),G=a.n(L),H=a(131),M=a.n(H),Y=a(133),z=a.n(Y),V=a(129),K=a.n(V);a(111);var Q=a(6),X=(a(159),a(112)),Z=a.n(X),$=a(113),ee=a.n($),te=a(114),ae=a.n(te),ne=a(115),le=a.n(ne),re=(a(160),a(116));a(167);var oe=Object(Q.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper,marginTop:"100px"}}}))((function(e){var t=e.classes,a=Object(n.useState)(!1),r=Object(g.a)(a,2);return r[0],r[1],l.a.createElement("div",{className:t.root},l.a.createElement("div",{class:"container-fluid"},l.a.createElement(re.Carousel,{fade:!0},l.a.createElement("div",null,l.a.createElement("img",{className:"d-block w-100",src:Z.a,alt:"First slide"}),l.a.createElement("h3",null,"Adding a Joy to your Journey")),l.a.createElement("div",null,l.a.createElement("img",{className:"d-block w-100",src:ee.a,alt:"Second slide"}),l.a.createElement("h3",null,"Lets you Explore the Best")),l.a.createElement("div",null,l.a.createElement("img",{className:"d-block w-100",src:ae.a,alt:"Fourth slide"}),l.a.createElement("h3",null,"Bringing Joy From Every journey")),l.a.createElement("div",null,l.a.createElement("img",{className:"d-block w-100",src:le.a,alt:"Fourth slide"}),l.a.createElement("h3",null,"Quality Travelling, Quality Service")))))})),ce=a(21),se=a.n(ce),ie=a(33),me=a(276),ue=a(278),de=a(138),pe=a(42),ge=a.n(pe),be=Object(I.a)((function(e){var t;return{paper:(t={width:"auto",marginLeft:e.spacing(3),marginRight:e.spacing(3)},Object(b.a)(t,e.breakpoints.up(620+e.spacing(6)),{width:400,marginLeft:"auto",marginRight:"auto"}),Object(b.a)(t,"marginTop",e.spacing(8)),Object(b.a)(t,"display","flex"),Object(b.a)(t,"flexDirection","column"),Object(b.a)(t,"alignItems","center"),Object(b.a)(t,"padding","".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")),t),avatar:{margin:e.spacing(1),width:192,height:192,color:e.palette.secondary.main},form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"}}})),he=function(){var e=be(),t=Object(d.g)(),a=Object(n.useState)(""),r=Object(g.a)(a,2),o=r[0],c=r[1],s=Object(n.useState)(""),i=Object(g.a)(s,2),m=i[0],u=i[1],p=Object(n.useState)(""),b=Object(g.a)(p,2),h=b[0],f=b[1],E=Object(n.useState)(""),v=Object(g.a)(E,2),S=v[0],O=v[1],y=Object(n.useState)(""),w=Object(g.a)(y,2),C=w[0],x=w[1],N=Object(n.useState)(""),k=Object(g.a)(N,2),I=k[0],B=k[1],A=function(){var e=Object(ie.a)(se.a.mark((function e(a,n,r,o,c){var s,i,m,u,p;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("email: ",r),s={username:a,password:n,email:r,contact:o,dob:c},e.prev=2,i={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)},e.next=6,fetch("http://localhost:5000/signup",i);case 6:return(m=e.sent).ok?(u={email_to:r},ge.a.send("gmail","template_kjha7q8",u,"user_LQUnilAw58Lv7SREimvSB").then((function(e){console.log("SUCCESS!",e.status,e.text)}),(function(e){console.log("FAILED...",e)})),console.log("success on send.")):alert("response: "+m.toString()),e.prev=8,e.next=11,m.json();case 11:return p=e.sent,console.log("on reply:"),console.log(p),alert("Congratulations! Successfully registered! Please login to book rides!"),t.push("/signin/"),e.abrupt("return",l.a.createElement(d.a,{to:"/signin/"}));case 19:e.prev=19,e.t0=e.catch(8),console.log(e.t0),alert("exception on reply!");case 23:e.next=29;break;case 25:e.prev=25,e.t1=e.catch(2),console.log(e.t1),alert("exception on send");case 29:case"end":return e.stop()}}),e,null,[[2,25],[8,19]])})));return function(t,a,n,l,r){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement(de.a,{className:e.paper,elevation:6},l.a.createElement("div",{className:e.container},l.a.createElement(j.a,{component:"h1",variant:"h5"},"Sign up"),l.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),A(o,h,m,I,C)},noValidate:!0},l.a.createElement(me.a,{value:o,onInput:function(e){return c(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0}),l.a.createElement(me.a,{value:m,onInput:function(e){return u(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"E-Mail",name:"email",autoComplete:"email"}),l.a.createElement(me.a,{value:h,onInput:function(e){return f(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),l.a.createElement(me.a,{value:S,onInput:function(e){return O(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password_confirm",label:"Confirm Password",type:"password",id:"password_confirm",autoComplete:"current-password"}),l.a.createElement(me.a,{value:C,onInput:function(e){return x(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"dob",label:"Date of Birth(MM/DD/YYYY)",id:"dob",autoComplete:"DOB"}),l.a.createElement(me.a,{value:I,onInput:function(e){return B(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"contact",label:"Contact Number",id:"contact",autoComplete:"contact"}),l.a.createElement(ue.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"black"},className:e.submit},"Sign up")))))};function fe(e,t,a){if("undefined"!==typeof Storage)try{localStorage.setItem("twtr:auth",JSON.stringify(e)),localStorage.setItem("userid",t),localStorage.setItem("username",a),console.log("username: ",localStorage.getItem("username"))}catch(n){console.log(n)}}var Ee=Object(I.a)((function(e){var t;return{paper:(t={width:"auto",marginLeft:e.spacing(3),marginRight:e.spacing(3)},Object(b.a)(t,e.breakpoints.up(620+e.spacing(6)),{width:400,marginLeft:"auto",marginRight:"auto"}),Object(b.a)(t,"marginTop",e.spacing(8)),Object(b.a)(t,"display","flex"),Object(b.a)(t,"flexDirection","column"),Object(b.a)(t,"alignItems","center"),Object(b.a)(t,"padding","".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")),t),avatar:{margin:e.spacing(1),width:192,height:192,color:e.palette.secondary.main},form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},buttonPadding:{marginBottom:"30px"}}})),ve=function(){var e=Ee(),t=Object(d.g)(),a=Object(n.useState)(""),r=Object(g.a)(a,2),o=r[0],c=r[1],s=Object(n.useState)(""),i=Object(g.a)(s,2),m=i[0],p=i[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(de.a,{className:e.paper,elevation:6},l.a.createElement("div",{className:e.container},l.a.createElement(j.a,{component:"h1",variant:"h5",className:e.padding},"Sign Out"),l.a.createElement(j.a,{gutterBottom:!0},"If you are not the only one on this device."),l.a.createElement(ue.a,{fullWidth:!0,variant:"contained",margin:"normal",color:"secondary",style:{backgroundColor:"gray"},onClick:function(){!function(){if("undefined"!==typeof Storage)try{localStorage.removeItem("twtr:auth"),localStorage.removeItem("userid"),localStorage.removeItem("username")}catch(e){console.log(e)}}(),t.push("/")},className:e.buttonPadding},"Sign Out"),l.a.createElement(j.a,{component:"h1",variant:"h5",className:e.padding},"Fast Sign In"),l.a.createElement(j.a,{gutterBottom:!0},"If this is your device."),l.a.createElement(ue.a,{fullWidth:!0,variant:"contained",margin:"normal",color:"primary",style:{backgroundColor:"black"},onClick:function(){var e=function(){if("undefined"!==typeof Storage)try{var e=JSON.parse(localStorage.getItem("twtr:auth"));return console.log(e),e}catch(t){console.log(t)}}(),a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)};fetch("/fastlogin",a).then((function(e){return e.json()})).then((function(e){console.log("received these keys in return:"),console.log(e),console.log(e[0].access_token),console.log(e[0].refresh_token),fe({access:e[0].access_token,refresh:e[0].refresh_token},e[0].userid,e[0].username),t.push("/")})).catch((function(e){alert(e),console.log(e)}))},className:e.buttonPadding},"Sign In"),l.a.createElement(j.a,{component:"h1",variant:"h5"},"Password Sign In"),l.a.createElement(j.a,{gutterBottom:!0},"You may password-sign-in on any device."),l.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault();var a={name:o,password:m},n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)};console.log("sending out:"),console.log(a),fetch("http://localhost:5000/login",n).then((function(e){return e.json()})).then((function(e){console.log("received these keys in return:"),console.log(e),console.log(e[0].access_token),console.log(e[0].refresh_token),console.log("---"),fe({access:e[0].access_token,refresh:e[0].refresh_token},e[0].userid,e[0].username),t.push("/")})).catch((function(e){alert(e),console.log(e)}))},noValidate:!0},l.a.createElement(me.a,{value:o,onInput:function(e){return c(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0}),l.a.createElement(me.a,{value:m,onInput:function(e){return p(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),l.a.createElement(ue.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"black"},className:e.submit},"Sign in")),l.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"}},l.a.createElement(u.b,{to:"/password_reset"},"Forgot Password?"),l.a.createElement(u.b,{to:"/signup"},"Register")))))},Se=Object(I.a)((function(e){var t;return{paper:(t={width:"auto",marginLeft:e.spacing(3),marginRight:e.spacing(3)},Object(b.a)(t,e.breakpoints.up(620+e.spacing(6)),{width:400,marginLeft:"auto",marginRight:"auto"}),Object(b.a)(t,"marginTop",e.spacing(8)),Object(b.a)(t,"display","flex"),Object(b.a)(t,"flexDirection","column"),Object(b.a)(t,"alignItems","center"),Object(b.a)(t,"padding","".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")),t),avatar:{margin:e.spacing(1),width:192,height:192,color:e.palette.secondary.main},form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"}}})),je=function(){var e=Se(),t=Object(d.g)(),a=Object(n.useState)(""),r=Object(g.a)(a,2),o=r[0],c=r[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(de.a,{className:e.paper,elevation:6},l.a.createElement("div",{className:e.container},l.a.createElement(j.a,{component:"h1",variant:"h5"},"Password reset"),l.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),localStorage.setItem("passSetEmail",o);var a={email:o},n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)};fetch("http://localhost:5000/checkUserWithEmail",n).then((function(e){return e.json()})).then((function(e){if(console.log(e),401===e)alert("Email is not registered! Please sign up!"),t.replace("/signup");else{var a={email_to:o};ge.a.send("gmail","template_bar4hnx",a,"user_84Ail5Gec6Hu3umTTuGdc").then((function(e){alert("A token has been sent to your email!"),console.log("SUCCESS!",e.status,e.text)}),(function(e){console.log("FAILED...",e)})),alert("A token has been sent to your email!"),t.replace("/password_change")}}))},noValidate:!0},l.a.createElement(me.a,{value:o,onInput:function(e){return c(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"E-Mail",name:"email",autoComplete:"email",autoFocus:!0}),l.a.createElement(ue.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Reset Password")))))},Oe=Object(I.a)((function(e){var t;return{paper:(t={width:"auto",marginLeft:e.spacing(3),marginRight:e.spacing(3)},Object(b.a)(t,e.breakpoints.up(620+e.spacing(6)),{width:400,marginLeft:"auto",marginRight:"auto"}),Object(b.a)(t,"marginTop",e.spacing(8)),Object(b.a)(t,"display","flex"),Object(b.a)(t,"flexDirection","column"),Object(b.a)(t,"alignItems","center"),Object(b.a)(t,"padding","".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")),t),avatar:{margin:e.spacing(1),width:192,height:192,color:e.palette.secondary.main},form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"}}})),ye=function(){var e=Oe(),t=Object(d.g)(),a=Object(n.useState)(""),r=Object(g.a)(a,2),o=r[0],c=r[1],s=Object(n.useState)(""),i=Object(g.a)(s,2),m=i[0],u=i[1],p=Object(n.useState)(""),b=Object(g.a)(p,2),h=b[0],f=b[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(de.a,{className:e.paper,elevation:6},l.a.createElement("div",{className:e.container},l.a.createElement(j.a,{component:"h1",variant:"h5"},"Password change"),l.a.createElement("form",{className:e.form,onSubmit:function(e){if(e.preventDefault(),"1234"===o){var a={email:localStorage.getItem("passSetEmail"),password:m},n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)};fetch("http://localhost:5000/updateUserForgotPassword",n).then((function(e){return e.json()})).then((function(e){alert("Successfully updated! you can now login!"),t.replace("/signin")})).catch((function(e){console.log("Request failed",e),alert("Please try again!"),window.location.reload()}))}else alert("Invalid token! Please try again!"),window.location.reload()},noValidate:!0},l.a.createElement(me.a,{value:o,onInput:function(e){return c(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"token",label:"Enter token",name:"token",autoComplete:"token",autoFocus:!0}),l.a.createElement(me.a,{value:m,onInput:function(e){return u(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",label:"New password",name:"password",autoComplete:"password",autoFocus:!0}),l.a.createElement(me.a,{value:h,onInput:function(e){return f(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"cpassword",label:"Confirm password",name:"cpassword",autoComplete:"cpassword",autoFocus:!0}),l.a.createElement(ue.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Reset Password")),l.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault();var t={email_to:localStorage.getItem("passSetEmail")};ge.a.send("gmail","template_bar4hnx",t,"user_84Ail5Gec6Hu3umTTuGdc").then((function(e){alert("A token has been sent to your email!"),console.log("SUCCESS!",e.status,e.text)}),(function(e){console.log("FAILED...",e)})),alert("A token has been sent to your email!"),window.location.reload()}},l.a.createElement(ue.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Resend token")))))},we=a(80),Ce=a(298),xe=a(280),Ne=a(281),ke=a(282),Ie=a(279),Be=Object(I.a)((function(e){return{root:{width:350,paddingTop:40},media:{height:140,paddingTop:300},card:{flexGrow:1,padding:e.spacing(2)}}})),Ae=function(e){console.log("dateOfTravel:",e);var t=Date.parse(e),a=function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear(),l=a<10?"0"+a:""+a,r=t<10?"0"+t:""+t,o=n+"-"+l+"-"+r;return console.log("dateresult:",o),o}("/"),n=Date.parse(a);return console.log("d1:",t),console.log("d2:",n),t<=n?(console.log("checkDisabled:",1),1):(console.log("checkDisabled:",0),0)},Te=(Ce.a.create({container:{backgroundColor:"whitesmoke",marginTop:"60px"},centering:{alignItems:"center",justifyContent:"center",padding:8,height:"100vh"}}),function(){var e=Be(),t=l.a.useState([]),a=Object(g.a)(t,2),r=a[0],o=a[1],c=l.a.useState(!0),s=Object(g.a)(c,2),i=(s[0],s[1]),m=l.a.useState(""),u=Object(g.a)(m,2);u[0],u[1];return Object(n.useEffect)((function(){console.log("username:",localStorage.getItem("username")),function(){var e=Object(ie.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/bookings-results",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:localStorage.getItem("username")})}).then((function(e){return e.json()})).then((function(e){console.log(e),o(Object(we.a)(e)),i(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),null===localStorage.getItem("userid")||void 0===localStorage.getItem("userid")?l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),"Please login!"):l.a.createElement("div",{className:e.card},l.a.createElement(Ie.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.map((function(t){return l.a.createElement(Ie.a,{item:!0,xs:12,sm:6,md:4},l.a.createElement(xe.a,{className:e.root},l.a.createElement(Ne.a,{className:e.media,image:"https://assets.bwbx.io/images/users/iqjWHBFdfxIU/ieN2q3c75kbM/v0/1000x-1.jpg",title:"UBER BUS"}),l.a.createElement(ke.a,null,l.a.createElement(j.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.user),l.a.createElement(j.a,{gutterBottom:!0,variant:"h6",component:"h6"},"Source : ",t.source),l.a.createElement(j.a,{gutterBottom:!0,variant:"h6",component:"h6"},"Destination : ",t.destination),l.a.createElement(j.a,{gutterBottom:!0,variant:"h6",component:"h6"},"Date of Journey : ",t.date),l.a.createElement(j.a,{gutterBottom:!0,variant:"h6",component:"h6"},"Total Price : ",t.totalPrice),l.a.createElement(j.a,{gutterBottom:!0,variant:"h6",component:"h6"},"Number of seats booked: ",t.numOfSeats),l.a.createElement("button",{disabled:Ae(t.date),onClick:function(e,a){return function(e,t){e.preventDefault();var a={bookingid:t},n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)};fetch("/cancelBooking",n).then((function(e){return e.json()})).then((function(e){i(!1),window.location.reload()}))}(e,t._id)}},"cancel"))))}))))}),Pe=(a(178),a(227)),De=a(283),Fe=a(230),We=a(224),Ue=a(223),_e=a(79);a(179);function Je(e){var t=e.value,a=Object(n.useState)(""),r=Object(g.a)(a,2),o=(r[0],r[1]),c=Object(n.useState)(!1),s=Object(g.a)(c,2),i=(s[0],s[1],Object(n.useState)(!1)),m=Object(g.a)(i,2),u=m[0],p=m[1],b=Object(n.useState)(!0),h=Object(g.a)(b,2),f=h[0],E=h[1];Object(n.useEffect)((function(){o(t)}),[t]);var v=Object(d.g)();return l.a.createElement("div",{className:""},t.map((function(e,t){return l.a.createElement("div",{key:t,className:"card mt-5 buslist"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{class:"row ml-3"},l.a.createElement("div",{class:"col-6 col-sm-3 mt-2 font-weight-bold "},"Bus Number"),l.a.createElement("div",{class:"col-6 col-sm-3 mt-2 font-weight-bold "},"Start Time"),l.a.createElement("div",{class:"col-6 col-sm-3 mt-2 font-weight-bold "},"End Time"),l.a.createElement("div",{class:"col-6 col-sm-3 mt-2 font-weight-bold "},"Price per seat"),l.a.createElement("div",{class:"w-100 d-none d-md-block"}),l.a.createElement("div",{class:"col-6 col-sm-3 mb-4"},e.busnumber),l.a.createElement("div",{class:"col-6 col-sm-3 mb-4"},e.startTime),l.a.createElement("div",{class:"col-6 col-sm-3 mb-4"},e.endTime),l.a.createElement("div",{class:"col-6 col-sm-3 mb-4"},e.price),l.a.createElement("div",{class:"col-6 col-sm-4 mb-2 ml-0"},l.a.createElement("button",{className:f?"btn btn-primary btn-md":"btn btn-primary btn-md disabled",onClick:function(t,a,n,r,o,c,s,i){!function(e,t,a,n,r,o,c,s){var i=localStorage.getItem("username");fetch("http://localhost:5000/overlapCheck",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:i})}).then((function(e){return console.log(e),e.json()})).then((function(i){console.log("our date:",i);var m=0;if(i.map((function(e){if(Date.parse(r)>=Date.parse(e.startTime)&&Date.parse(r)<Date.parse(e.endTime)||Date.parse(o)>Date.parse(e.startTime)&&Date.parse(o)<=Date.parse(e.endTime))return alert("Your bookings might overlap with each other!!"),m++,void window.location.reload()})),0==m)return localStorage.setItem("selectedBusId",e),localStorage.setItem("busPrice",t),localStorage.setItem("source",a),localStorage.setItem("destination",n),localStorage.setItem("startTime",r),localStorage.setItem("endTime",o),localStorage.setItem("BusNum",c),localStorage.setItem("busDate",s),E(!1),p(!0),v.push("/seatSelection/"),l.a.createElement(d.a,{to:"/seatSelection/"})})).catch((function(e){console.log("Request failed",e),alert(e)}))}(e._id,e.price,e.source,e.destination,e.startTime,e.endTime,e.busnumber,e.date)}},"Book Now"))))})),l.a.createElement("div",{className:u?"activeArrow":"nonActive"},l.a.createElement(_e.a,null)))}function qe(){var e=Object(n.useState)(""),t=Object(g.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)("Source"),c=Object(g.a)(o,2),s=c[0],i=c[1],m=Object(n.useState)("Destination"),u=Object(g.a)(m,2),d=u[0],p=u[1],b=Object(n.useState)(""),h=Object(g.a)(b,2),f=h[0],E=h[1],v=Object(n.useState)(""),S=Object(g.a)(v,2),j=(S[0],S[1]),O=Object(n.useState)(""),y=Object(g.a)(O,2),w=y[0],C=y[1],x=Object(n.useState)(""),N=Object(g.a)(x,2),k=N[0],I=N[1],B=Object(n.useState)(!1),A=Object(g.a)(B,2),T=A[0],P=A[1],D=Object(n.useState)(!1),F=Object(g.a)(D,2),W=F[0],U=F[1],_=Object(n.useState)(""),J=Object(g.a)(_,2),q=J[0],R=J[1],L=Object(n.useState)(""),G=Object(g.a)(L,2),H=G[0],M=G[1];return l.a.createElement("div",{className:"rdc"},l.a.createElement("div",{className:"form-group inline"}),l.a.createElement("div",{className:"main-container"},l.a.createElement("form",{className:"form-inline",onSubmit:function(e){return function(e){return e.preventDefault(),console.log(s,d),"Source"===s?(P(!0),void R("Please select the origin")):"Destination"===d?(U(!0),void M("Please select the destination")):s===d?(j(!0),void I("Source and Destination should be different")):(j(!1),I(""),void fetch("http://localhost:5000/checkAvailability",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source:s,destination:d,date:f.date,user:localStorage.getItem("username")})}).then((function(e){return console.log(e),e.json()})).then((function(e){console.log("our date:",e),r(e),C(401===e?"invalid":"")})).catch((function(e){console.log("Request failed",e),alert(e)})))}(e)}},l.a.createElement(Ue.a,{error:T},l.a.createElement(Fe.a,{id:"demo-simple-select-helper-label"},"Source City"),l.a.createElement(Pe.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:s,onChange:function(e){!function(e){e.preventDefault(),console.log(s),""==e.target.value?(P(!0),R("Please select the origin")):(P(!1),R("")),i(e.target.value),localStorage.setItem("start",e.target.value),console.log("start",e.target.value)}(e)}},l.a.createElement(De.a,{value:""},l.a.createElement("em",null,"None")),l.a.createElement(De.a,{value:"Chennai"},"Chennai"),l.a.createElement(De.a,{value:"Hyderabad"},"Hyderabad"),l.a.createElement(De.a,{value:"Bangalore"},"Bangalore")),l.a.createElement(We.a,null,q)),l.a.createElement("div",{style:{display:"inline",float:"right",paddingLeft:"200px"}}),l.a.createElement(Ue.a,{error:W},l.a.createElement(Fe.a,{id:"demo-simple-select-helper-label"},"Destination City"),l.a.createElement(Pe.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:d,onChange:function(e){!function(e){""==e.target.value?(U(!0),M("Please select the destination")):(U(!1),M("")),p(e.target.value),localStorage.setItem("destination",e.target.value),console.log("destination",e.target.value)}(e)}},l.a.createElement(De.a,{value:""},l.a.createElement("em",null,"None")),l.a.createElement(De.a,{value:"Hyderabad"},"Hyderabad"),l.a.createElement(De.a,{value:"Coimbatore"},"Coimbatore"),l.a.createElement(De.a,{value:"Bangalore"},"Bangalore")),l.a.createElement(We.a,null,H)),l.a.createElement("div",{style:{paddingLeft:"200px"}},l.a.createElement(me.a,{id:"date",label:"Date of Journey",type:"date",onChange:function(e){!function(e){e.preventDefault(),E({date:e.target.value}),localStorage.setItem("date",e.target.value)}(e)},defaultValue:f,inputProps:{min:function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),l=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[l,a,n].join("-")}(new Date)},InputLabelProps:{shrink:!0},required:!0})),l.a.createElement("input",{type:"submit",className:" btn btn-dark btn-md getRoute"})),l.a.createElement("div",null,function(e){return 0!==k.length?l.a.createElement("div",null,"Source and destination cannot be same!"):0!==w.length?l.a.createElement("div",null,"Overlapping period!!"):Object.keys(e).length>0?l.a.createElement(Je,{value:e}):void 0}(a))))}function Re(e){e.history;return null===localStorage.getItem("userid")||void 0===localStorage.getItem("userid")?l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),"Please login!"):l.a.createElement("div",{className:"container"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("ul",{className:"nav nav-pills"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link active","data-toggle":"pill",href:"#home"},"Select Bus"))),l.a.createElement("div",{className:"tab-content"},l.a.createElement("div",{className:"tab-pane container active mn-box",id:"home"},l.a.createElement(qe,null)))))}var Le=a(284);a(180);function Ge(){var e=Object(n.useRef)(),t=Object(n.useState)(""),a=Object(g.a)(t,2),r=(a[0],a[1],Object(n.useState)([])),o=Object(g.a)(r,2),c=(o[0],o[1],Object(n.useState)(!1)),s=Object(g.a)(c,2),i=s[0],m=s[1],u=Object(n.useState)(null),d=Object(g.a)(u,2),p=d[0],b=d[1],h=function(){console.log(localStorage.getItem("selectedBusId"));var e={busid:localStorage.getItem("selectedBusId"),seat1A:localStorage.getItem("1A"),seat1B:localStorage.getItem("1B"),seat1C:localStorage.getItem("1C"),seat2A:localStorage.getItem("2A"),seat2B:localStorage.getItem("2B"),seat2C:localStorage.getItem("2C"),seat3A:localStorage.getItem("3A"),seat3B:localStorage.getItem("3B"),seat3C:localStorage.getItem("3C")};console.log("2c: ",localStorage.getItem("2C"));var t={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)};fetch("http://localhost:5000/saveBookedSeats",t).then((function(e){return e.json()})).then((function(e){}))},f=function(){console.log("username: ",localStorage.getItem("username"));var e={busnumber:localStorage.getItem("BusNum"),user:localStorage.getItem("username"),source:localStorage.getItem("source"),destination:localStorage.getItem("destination"),startTime:localStorage.getItem("startTime"),endTime:localStorage.getItem("endTime"),date:localStorage.getItem("busDate"),numOfSeats:localStorage.getItem("numOfSeats"),totalPrice:localStorage.getItem("totalPrice")},t={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)};fetch("http://localhost:5000/saveBooking",t).then((function(e){return e.json()})).then((function(e){alert("Booking saved!! "+e),localStorage.setItem("bookingID",e)}))},E=function(e,t){var a={bookingID:localStorage.getItem("bookingID"),fullname:e,gender:t},n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)};fetch("http://localhost:5000/savePassengerDetails",n).then((function(e){return e.json()})).then((function(e){}))},v=function(){var e="mahithareddy42@gmail.com",t={username:localStorage.getItem("username")},a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)};fetch("http://localhost:5000/userEmail",a).then((function(e){return e.json()})).then((function(t){console.log(t),e=t[0].email}));var n={email_to:e};ge.a.send("gmail","template_zyqahd1",n,"user_LQUnilAw58Lv7SREimvSB").then((function(e){console.log("SUCCESS!",e.status,e.text)}),(function(e){console.log("FAILED...",e)}))};return Object(n.useEffect)((function(){var t=localStorage.getItem("busPrice");console.log("price: ",t),console.log("local2: ",localStorage.getItem("passengers"));var a=localStorage.getItem("numOfSeats");console.log("length: ",a);var n=t*a;localStorage.setItem("totalPrice",n),window.paypal.Buttons({createOrder:function(e,t,a){return t.order.create({intent:"CAPTURE",purchase_units:[{description:"Cool looking table",amount:{currency_code:"USD",value:n}}]})},onApprove:function(){var e=Object(ie.a)(se.a.mark((function e(t,a){var n,l;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(),f(),n=JSON.parse(localStorage.getItem("passengers")||"[]"),console.log("passengers length: ",n.length),n.map((function(e){console.log(e),console.log(e.passengerName),console.log(e.passengerGender),E(e.passengerName,e.passengerGender)})),v(),m(!0),e.next=9,a.order.capture();case 9:l=e.sent,console.log(l);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),onError:function(e){b(e),console.log(e)}}).render(e.current)}),[]),i?l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h1",null,"Congrats, your booking is successful!")):l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),p&&l.a.createElement("div",null,"Uh oh, an error occurred! ",p.message),l.a.createElement("div",{ref:e}))}function He(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=(t[0],t[1],Object(n.useState)([])),r=Object(g.a)(a,2),o=r[0],c=r[1],s=Object(n.useState)([]),i=Object(g.a)(s,2),m=i[0],p=i[1],b=Object(n.useState)([]),h=Object(g.a)(b,2),f=h[0],E=h[1],v=Object(n.useState)([]),S=Object(g.a)(v,2),j=S[0],O=S[1],y=Object(n.useState)([]),w=Object(g.a)(y,2),C=w[0],x=w[1],N=Object(n.useState)([]),k=Object(g.a)(N,2),I=k[0],B=k[1],A=Object(n.useState)([]),T=Object(g.a)(A,2),P=T[0],D=T[1],F=Object(n.useState)([]),W=Object(g.a)(F,2),U=W[0],_=W[1],J=Object(n.useState)([]),q=Object(g.a)(J,2),R=q[0],L=q[1],G=Object(n.useState)(!1),H=Object(g.a)(G,2),M=H[0],Y=(H[1],Object(n.useState)([])),z=Object(g.a)(Y,2),V=(z[0],z[1],Object(n.useState)([])),K=Object(g.a)(V,2),Q=(K[0],K[1],Object(n.useState)([])),X=Object(g.a)(Q,2),Z=X[0],$=X[1],ee=Object(n.useState)([]),te=Object(g.a)(ee,2),ae=(te[0],te[1],Object(n.useState)(!1)),ne=Object(g.a)(ae,2),le=ne[0],re=(ne[1],Object(n.useState)("")),oe=Object(g.a)(re,2),ce=oe[0],se=oe[1],ie=Object(n.useState)(""),me=Object(g.a)(ie,2),ue=me[0],de=me[1],pe=Object(n.useState)(""),ge=Object(g.a)(pe,2),be=ge[0],he=ge[1],fe=Object(n.useState)(""),Ee=Object(g.a)(fe,2),ve=Ee[0],Se=Ee[1],je=Object(n.useState)(""),Oe=Object(g.a)(je,2),ye=Oe[0],Ce=Oe[1],xe=Object(n.useState)(""),Ne=Object(g.a)(xe,2),ke=Ne[0],Ie=Ne[1],Be=Object(n.useState)(""),Ae=Object(g.a)(Be,2),Te=Ae[0],Pe=Ae[1],De=Object(n.useState)(""),Fe=Object(g.a)(De,2),We=Fe[0],Ue=Fe[1],Je=Object(n.useState)(""),qe=Object(g.a)(Je,2),Re=qe[0],He=qe[1],Me=Object(n.useState)(""),Ye=Object(g.a)(Me,2),ze=Ye[0],Ve=Ye[1],Ke=Object(n.useState)(""),Qe=Object(g.a)(Ke,2),Xe=Qe[0],Ze=Qe[1],$e=Object(n.useState)(""),et=Object(g.a)($e,2),tt=et[0],at=et[1],nt=Object(n.useState)(""),lt=Object(g.a)(nt,2),rt=lt[0],ot=lt[1],ct=Object(n.useState)(""),st=Object(g.a)(ct,2),it=st[0],mt=st[1],ut=Object(n.useState)(""),dt=Object(g.a)(ut,2),pt=dt[0],gt=dt[1],bt=Object(n.useState)(""),ht=Object(g.a)(bt,2),ft=ht[0],Et=ht[1],vt=Object(n.useState)(""),St=Object(g.a)(vt,2),jt=St[0],Ot=St[1],yt=Object(n.useState)(""),wt=Object(g.a)(yt,2),Ct=wt[0],xt=wt[1],Nt=Object(d.g)();Object(n.useEffect)((function(){console.log(localStorage.getItem("selectedBusId"));var e={busid:localStorage.getItem("selectedBusId")},t={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)};fetch("http://localhost:5000/availableseats",t).then((function(e){return e.json()})).then((function(e){c(e[0].FA),p(e[0].FB),E(e[0].FC),O(e[0].SA),x(e[0].SB),B(e[0].SC),D(e[0].TA),_(e[0].TB),L(e[0].TC),localStorage.setItem("1A",e[0].FA),localStorage.setItem("1B",e[0].FB),localStorage.setItem("1C",e[0].FC),localStorage.setItem("2A",e[0].SA),localStorage.setItem("2B",e[0].SB),localStorage.setItem("2C",e[0].SC),localStorage.setItem("3A",e[0].TA),localStorage.setItem("3B",e[0].TB),localStorage.setItem("3C",e[0].TC)}))}));var kt=function(e,t){var a=e.target.value;"1A"===t?se(a):"1B"===t?he(a):"1C"===t?(Ce(a),console.log(ye)):"2A"===t?Pe(a):"2B"===t?He(a):"2C"===t?Ze(a):"3A"===t?ot(a):"3B"===t?gt(a):"3C"===t&&Ot(a)},It=function(e){return e.map((function(e,t){return l.a.createElement("form",{key:t,className:"form seatfrm"},l.a.createElement("p",{class:"text-capitalize text-center"},"Seat No:",e),l.a.createElement("input",{className:"form-control seatInp",onKeyUp:function(t){return function(e,t){e.preventDefault();var a=e.target.value;"1A"===t?de(a):"1B"===t?Se(a):"1C"===t?(Ie(a),console.log(ke)):"2A"===t?Ue(a):"2B"===t?Ve(a):"2C"===t?at(a):"3A"===t?mt(a):"3B"===t?Et(a):"3C"===t&&xt(a)}(t,e)},type:"text",name:"passenger-name",placeholder:"Enter Name",validate:Object(Le.a)()}),l.a.createElement("div",{class:"form-check form-check-inline"},l.a.createElement("input",{class:"form-check-input",type:"radio",name:"gender",id:"male",value:"Male",onClick:function(t){return kt(t,e)}}),l.a.createElement("label",{class:"form-check-label",for:"male"},"Male")),l.a.createElement("div",{class:"form-check form-check-inline"},l.a.createElement("input",{class:"form-check-input",type:"radio",name:"gender",id:"female",value:"Female",onClick:function(t){return kt(t,e)}}),l.a.createElement("label",{class:"form-check-label",htmlFor:"female"},"Female")))}))};return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(u.b,{to:"/Book"},"back"),l.a.createElement("div",{className:"ss"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"column1"},l.a.createElement("div",{className:"plane"},l.a.createElement("form",{onChange:function(e){return function(e){var t=e.target.value;Z.includes(t)?$(Z.filter((function(e){return e!==t}))):($([].concat(Object(we.a)(Z),[t])),console.log(Z)),It(Z)}(e)}},l.a.createElement("ol",{className:"cabin fuselage"},l.a.createElement("li",{className:"row row--1"},l.a.createElement("ol",{className:"seats",type:"A"},l.a.createElement("li",{className:"seat"},l.a.createElement("input",{type:"checkbox",disabled:o,value:"1A",id:"1A"}),l.a.createElement("label",{htmlFor:"1A"},"1A")),l.a.createElement("li",{className:"seat"},l.a.createElement("input",{type:"checkbox",disabled:m,id:"1B",value:"1B"}),l.a.createElement("label",{htmlFor:"1B"},"1B")),l.a.createElement("li",{className:"seat"},l.a.createElement("input",{type:"checkbox",disabled:f,value:"1C",id:"1C"}),l.a.createElement("label",{htmlFor:"1C"},"1C")))),l.a.createElement("li",{className:"row row--2"},l.a.createElement("ol",{className:"seats",type:"A"},l.a.createElement("li",{className:"seat"},l.a.createElement("input",{type:"checkbox",disabled:j,value:"2A",id:"2A"}),l.a.createElement("label",{htmlFor:"2A"},"2A")),l.a.createElement("li",{className:"seat"},l.a.createElement("input",{type:"checkbox",disabled:C,value:"2B",id:"2B"}),l.a.createElement("label",{htmlFor:"2B"},"2B")),l.a.createElement("li",{className:"seat"},l.a.createElement("input",{type:"checkbox",disabled:I,value:"2C",id:"2C"}),l.a.createElement("label",{htmlFor:"2C"},"2C")))),l.a.createElement("li",{className:"row row--3"},l.a.createElement("ol",{className:"seats",type:"A"},l.a.createElement("li",{className:"seat"},l.a.createElement("input",{type:"checkbox",disabled:P,value:"3A",id:"3A"}),l.a.createElement("label",{htmlFor:"3A"},"3A")),l.a.createElement("li",{className:"seat"},l.a.createElement("input",{type:"checkbox",disabled:U,value:"3B",id:"3B"}),l.a.createElement("label",{htmlFor:"3B"},"3B")),l.a.createElement("li",{className:"seat"},l.a.createElement("input",{type:"checkbox",disabled:R,value:"3C",id:"3C"}),l.a.createElement("label",{htmlFor:"3C"},"3C")))))))),l.a.createElement("div",{className:"column2"},l.a.createElement("div",{className:"seatInfo"},l.a.createElement("form",{className:"form-group"},It(Z)),l.a.createElement("div",null,l.a.createElement("div",{className:"App"},le?l.a.createElement(Ge,null):l.a.createElement("button",{onClick:function(e){return function(e){e.preventDefault();var t=[];return Z.includes("1A")&&t.push({seatNo:"1A",passengerName:ue,passengerGender:ce}),Z.includes("1B")&&t.push({seatNo:"1B",passengerName:ve,passengerGender:be}),Z.includes("1C")&&t.push({seatNo:"1C",passengerName:ke,passengerGender:ye}),Z.includes("2A")&&t.push({seatNo:"2A",passengerName:We,passengerGender:Te}),Z.includes("2B")&&t.push({seatNo:"2B",passengerName:ze,passengerGender:Re}),Z.includes("2C")&&t.push({seatNo:"2C",passengerName:tt,passengerGender:Xe}),Z.includes("3A")&&t.push({seatNo:"3A",passengerName:it,passengerGender:rt}),Z.includes("3B")&&t.push({seatNo:"3B",passengerName:ft,passengerGender:pt}),Z.includes("3C")&&t.push({seatNo:"3C",passengerName:Ct,passengerGender:jt}),localStorage.setItem("passengers",JSON.stringify(t)),localStorage.setItem("seatNumber",Z),localStorage.setItem("numOfSeats",t.length),console.log("x:length: ",t.length),console.log("Passengers: ",localStorage.getItem("passengers")),Z.map((function(e){console.log("minemap:",{seat:e}),e.includes("1A")&&(localStorage.setItem("1A",1),alert("1A: "+localStorage.getItem("1A"))),e.includes("1B")&&(localStorage.setItem("1B",1),alert("1B: "+localStorage.getItem("1B"))),e.includes("1C")&&(localStorage.setItem("1C",1),alert("1C: "+localStorage.getItem("1C"))),e.includes("2A")&&(localStorage.setItem("2A",1),alert("2A: "+localStorage.getItem("2A"))),e.includes("2B")&&(localStorage.setItem("2B",1),alert("2B: "+localStorage.getItem("2B"))),e.includes("2C")&&(localStorage.setItem("2C",1),alert("2C: "+localStorage.getItem("2C"))),e.includes("3A")&&(localStorage.setItem("3A",1),alert("3A: "+localStorage.getItem("3A"))),e.includes("3B")&&(localStorage.setItem("3B",1),alert("3B: "+localStorage.getItem("3B"))),e.includes("3C")&&(localStorage.setItem("3C",1),alert("3C: "+localStorage.getItem("3C")))})),Nt.push("/payment/"),l.a.createElement(d.a,{to:"/payment/"})}(e)},className:"btn btn-info seatBT"},"checkout"))),l.a.createElement("div",{className:M?"activeArrow2":"nonActive"},l.a.createElement(_e.a,null)))))))}var Me,Ye,ze=a(285),Ve=a(286),Ke=a(287),Qe=a(122),Xe=(a(212),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"content-wrapper",style:{paddingTop:"80px"}},l.a.createElement(ze.a,{src:"/assets/img/about.jpg"}),l.a.createElement("h2",{className:"heading"},"About Us")),l.a.createElement(Ve.a,null,l.a.createElement(ze.a,{src:"/assets/img/travel.jpg",className:"about-pc",rounded:!0,height:"300",width:"500",class:"center"}),l.a.createElement("h3",{className:"text-center"},"Traveling. Tours. Adventure."),l.a.createElement("p",null,"We are committed to offering travel services of the highest quality, combining our energy and enthusiasm, with our years of experience. Our greatest satisfaction comes in serving large numbers of satisfied clients who have experienced the joys and inspiration of travel."),l.a.createElement("p",null,"Behaviour we improving at something to. Evil true high lady roof men had open. To projection considered it precaution an melancholy or. Wound young you thing worse along being ham. Dissimilar of favourable solicitude if sympathize middletons at. Forfeited up if disposing perfectly in an eagerness perceived necessary. Belonging sir curiosity discovery extremity yet forfeited prevailed own off. Travelling by introduced of mr terminated. Knew as miss my high hope quit. In curiosity shameless dependent knowledge up. Whether article spirits new her covered hastily sitting her. Money witty books nor son add. Chicken age had evening believe but proceed pretend mrs. At missed advice my it no sister. Miss told ham dull knew see she spot near can. Spirit her entire her called.")),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(Ve.a,{fluid:!0,className:"team"},l.a.createElement("h1",{className:"text-center"}," Our team"),l.a.createElement("h5",{className:"text-center"},"An experienced team of people passionate about traveling"),l.a.createElement(Ve.a,null,l.a.createElement(Ke.a,{className:"show-grid text-center"},l.a.createElement(Qe.a,{xs:12,sm:4,className:"person-wrapper"},l.a.createElement(ze.a,{src:"/assets/img/person1.jpg",circle:!0,className:"profile-pic",height:"200",width:"200"}),l.a.createElement("h3",null,"Mari Johnson"),l.a.createElement("h5",null,"Founder and Director"),l.a.createElement("p",null,"\u201cNina was an excellent Travel Agent for us and considered our unique needs as she planned our itinerary. Every suggestion she made was excellent.\u201d ")),l.a.createElement(Qe.a,{xs:12,sm:4,className:"person-wrapper"},l.a.createElement(ze.a,{src:"/assets/img/person3.jpg",circle:!0,className:"profile-pic",height:"200",width:"200"}),l.a.createElement("h3",null,"James Anderson"),l.a.createElement("h5",null,"Senior Travel Agent"),l.a.createElement("p",null,"\u201cI would highly recommend Andy because everything on my month long trip to New Zealand, Australia and French Polynesia went without a hitch.\u201d")),l.a.createElement(Qe.a,{xs:12,sm:4,className:"person-wrapper"},l.a.createElement(ze.a,{src:"/assets/img/person2.jpg",circle:!0,className:"profile-pic",height:"200",width:"200"}),l.a.createElement("h3",null,"John Smith"),l.a.createElement("h5",null,"Hotel Agent"),l.a.createElement("p",null,"\u201cI would highly recommend Andy because everything on my month long trip to New Zealand, Australia and French Polynesia went without a hitch.\u201d ")))),l.a.createElement("footer",{class:"footer"})))}}]),a}(n.Component)),Ze=a(295),$e=a(124),et=a(123),tt=a(299),at=(a(213),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={value:""},e}return Object(s.a)(a,[{key:"getValidationState",value:function(){var e=this.state.value.length;return e>10?"success":e>5?"warning":e>0?"error":void 0}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){return l.a.createElement(Ze.a,{className:"form-element"},l.a.createElement($e.a,{id:"formControlsText",type:"text",label:"Your Name",placeholder:"Your Name"}),l.a.createElement($e.a,{id:"formControlsEmail",type:"email",label:"Email address",placeholder:"Email"}),l.a.createElement(et.a,{controlId:"formControlsTextarea"},l.a.createElement($e.a,{componentClass:"textarea",placeholder:"Message"})),l.a.createElement(tt.a,{style:{backgroundColor:"black"},type:"submit"},"Send Message"))}}]),a}(n.Component)),nt=(a(215),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"content-wrapper",style:{paddingTop:"80px"}},l.a.createElement(ze.a,{src:"/assets/img/contact.jpg"}),l.a.createElement("h2",{className:"heading"},"Contact Us")),l.a.createElement(Ve.a,null,l.a.createElement(Ke.a,{className:"show-grid text-center"},l.a.createElement(Qe.a,{xs:12,sm:4},l.a.createElement("h3",null,"Contact Our Agency"),l.a.createElement("p",null,"At Travel Agency we want to make sure that your trip is everything you could possibly dream of. Whether you want inspiration and guidance in planning your next adventure or need help with an existing booking, our travel experts are here to help. Send us an email or give our team a call to book your flights, plan your adventure or get help with any problems you encounter along the way. Or if you\u2019re in New York, you can visit us in store to speak face to face. Our assistance doesn\u2019t end when you take off either. Our Global Travel Help team are on hand to assist with any issues you may have.")),l.a.createElement(Qe.a,{xs:12,sm:4,className:"person-wrapper"},l.a.createElement("h3",null,"Our contacts "),l.a.createElement("ul",{className:" contact-list fa-ul"},l.a.createElement("li",null,l.a.createElement("i",{class:"fas fa-map-marker-alt"})," 123/21 First Street, Manchester, King Street, Kingston United Kingdom"),l.a.createElement("li",null,l.a.createElement("i",{class:"fas fa-phone"})," 345-677-554"),l.a.createElement("li",null,l.a.createElement("i",{class:"fas fa-mobile-alt"})," 323-678-567"),l.a.createElement("li",null,l.a.createElement("i",{class:"far fa-envelope"})," uberbus@gmail.com"))),l.a.createElement(Qe.a,{xs:12,sm:4,className:"person-wrapper"},l.a.createElement("h3",null,"Any Questions?"),l.a.createElement(at,null)))))}}]),a}(n.Component)),lt=a(81),rt=a(88),ot=a(77),ct=a(78),st=ct.a.div(Me||(Me=Object(ot.a)(["\n  align-self: center;\n  margin-bottom: 30px;\n\n  label {\n    cursor: pointer;\n\n    &:hover {\n      opacity: 0.7;\n    }\n\n    img {\n      height: 120px;\n      width: 120px;\n      border-radius: 50%;\n      border: 3px solid rgba(255, 255, 255, 0.3);\n      background: #eee;\n    }\n\n    input {\n      display: none;\n    }\n  }\n"])));function it(){var e=Object(rt.a)("avatar"),t=e.defaultValue,a=e.registerField,r=Object(n.useState)(t&&t.id),o=Object(g.a)(r,2),c=o[0],s=(o[1],Object(n.useState)(t&&t.url)),i=Object(g.a)(s,2),m=i[0],u=(i[1],Object(n.useRef)());function d(){return(d=Object(ie.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(new FormData).append("file",t.target.files[0]);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){u.current&&a({name:"avatar_id",ref:u.current,path:"dataset.file"})}),[u,a]),l.a.createElement(st,null,l.a.createElement("label",{htmlFor:"avatar"},l.a.createElement("img",{src:m||"https://api.adorable.io/avatars/50/abott@adorable.png",alt:"Avatar"}),l.a.createElement("input",{type:"file",id:"avatar",accept:"image/*","data-file":c,onChange:function(e){return d.apply(this,arguments)},ref:u})))}var mt=ct.a.div(Ye||(Ye=Object(ot.a)(["\n  max-width: 600px;\n  margin: 0 auto;\n\n  form {\n    display: flex;\n    flex-direction: column;\n    margin-top: 20px;\n\n    input {\n      height: 44px;\n      margin-top: 10px;\n      padding: 0 15px;\n      border: 1;\n      border-radius: 12px;\n      // background: rgba(0, 0, 0, 0.2);\n      color: #000;\n\n      &::placeholder {\n        color: rgba(255, 255, 255, 0.7);\n      }\n    }\n\n    input + span {\n      align-self: flex-start;\n      margin: 5px 15px 0;\n      font-weight: bold;\n      color: #fb6f91;\n    }\n\n    button {\n      height: 44px;\n      margin-top: 10px;\n      border: 0;\n      border-radius: 4px;\n    \n      color: #fff;\n      font-weight: bold;\n      font-size: 16px;\n      transition: background 0.2s;\n    }\n\n     \n\n    hr {\n      border: 0;\n      margin: 20px 0 10px;\n      height: 1px;\n      background: rgba(255, 255, 255, 0.2);\n    }\n\n    span {\n      margin-top: 15px;\n      font-size: 16px;\n      color: #fff;\n      opacity: 0.8;\n\n      a {\n        color: #fff;\n        font-weight: bold;\n        opacity: 0.8;\n\n        &:hover {\n          opacity: 1;\n        }\n      }\n    }\n\n    EdiText {\n      height: 44px;\n      margin-top: 10px;\n      padding: 0 15px;\n      border: 1;\n      border-radius: 12px;\n      background: rgba(0, 0, 0, 0.2);\n      color: #000;\n\n      &::placeholder {\n        color: rgba(255, 255, 255, 0.7);\n      }\n\n    }\n    EdiText + span {\n      align-self: flex-start;\n      margin: 5px 15px 0;\n      font-weight: bold;\n      color: #fb6f91;\n    }\n  }\n\n"])));function ut(){var e=Object(n.useState)(""),t=Object(g.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),c=Object(g.a)(o,2),s=c[0],i=c[1],m=Object(n.useState)(""),u=Object(g.a)(m,2),d=u[0],p=u[1],b=Object(n.useState)(""),h=Object(g.a)(b,2),f=h[0],E=h[1],v=Object(n.useState)(""),S=Object(g.a)(v,2),j=S[0],O=S[1],y=Object(n.useState)(""),w=Object(g.a)(y,2),C=w[0],x=w[1],N=Object(n.useState)(""),k=Object(g.a)(N,2),I=k[0],B=k[1];Object(n.useEffect)((function(){var e=localStorage.getItem("username");(function(){var t=Object(ie.a)(se.a.mark((function t(){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("/userDetails",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e})}).then((function(e){return console.log(e),e.json()})).then((function(e){console.log("our date:",e),console.log("contact: ",e[0].contact),r(e[0].username),i(e[0].email),p(e[0].dob),E(e[0].contact),O(e[0].password)})).catch((function(e){console.log("Request failed",e),alert(e)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);return null===localStorage.getItem("userid")||void 0===localStorage.getItem("userid")?l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),"Please login!"):l.a.createElement(mt,null,l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=""===I?j:I;fetch("/updateUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:localStorage.getItem("username"),contact:f,password:t})}).then((function(e){return console.log(e),e.json()})).then((function(e){console.log("our date:",e),alert("Successfully updated!!"),window.location.reload()})).catch((function(e){console.log("Request failed",e),alert(e)}))}(e)}},l.a.createElement(it,{name:"avatar_id"}),l.a.createElement(me.a,{value:a,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,disabled:!0}),l.a.createElement(me.a,{value:s,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,disabled:!0}),l.a.createElement(me.a,{value:d,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"dob",label:"Birth Date",name:"dob",autoComplete:"dob",autoFocus:!0,disabled:!0}),"Contact Number:",l.a.createElement(lt.a,{name:"contact",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoFocus:!0,label:"Contact Number",value:f,onSave:function(e){E(e),console.log("contactval: ",e)},submitOnEnter:!0,placeholder:"Contact Number"}),"Password:",l.a.createElement("input",{name:"oldPassword",type:"password",value:j,placeholder:"Current password",disabled:!0}),"New Password",l.a.createElement(lt.a,{name:"password",type:"password",value:C,onSave:function(e){x(e)},submitOnEnter:!0,placeholder:"New password"}),"Confirm Password:",l.a.createElement(lt.a,{name:"confirmPassword",type:"password",value:I,submitOnEnter:!0,onSave:function(e){B(e)},placeholder:"Confirm new password"}),l.a.createElement("button",{type:"submit",style:{backgroundColor:"black"}},"Update profile")))}var dt=Object(E.a)(),pt=Object(I.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(h.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(b.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),drawerPaperCollapsed:Object(b.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(0)},e.breakpoints.up("sm"),{width:e.spacing(0)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},footer:{position:"fixed",left:0,bottom:0,width:"100%",backgroundColor:"grey",color:"white",textAlign:"center",fontStyle:"italic"}}}));function gt(){var e=pt(),t=l.a.useState(!0),a=Object(g.a)(t,2),n=a[0],r=a[1],o=l.a.useState(!1),c=Object(g.a)(o,2),s=c[0],i=c[1],m=l.a.useState("Home"),b=Object(g.a)(m,2),h=b[0],E=b[1],N=function(){i(!0),r(!1)},I=function(e){return function(){E(e)}};return l.a.createElement("div",{className:e.root},l.a.createElement(p.a,null),l.a.createElement(v.a,{style:{backgroundColor:"black"},position:"absolute",className:Object(f.a)(e.appBar,n&&e.appBarShift,s&&e.appBar)},l.a.createElement(S.a,{title:h,className:e.toolbar},l.a.createElement(A.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){r(!0),i(!1)},className:Object(f.a)(e.menuButton,n&&e.menuButtonHidden)},l.a.createElement(P.a,null)),l.a.createElement(j.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},h),l.a.createElement(j.a,{component:"h1",variant:"h6",color:"white",noWrap:!0,align:"right"},"Logout",l.a.createElement(K.a,null),l.a.createElement(A.a,{onClick:function(){!function(){if("undefined"!==typeof Storage)try{localStorage.removeItem("twtr:auth"),localStorage.removeItem("userid"),localStorage.removeItem("username")}catch(e){console.log(e)}}(),dt.push("/")}})))),l.a.createElement(d.c,{history:dt,title:h},l.a.createElement(O.a,{variant:"permanent",classes:{paper:Object(f.a)(e.drawerPaper,!n&&e.drawerPaperClose,s&&e.drawerPaperCollapsed)},open:n},l.a.createElement("div",{className:e.toolbarIcon},l.a.createElement(A.a,{onClick:function(){r(!1),i(!1)}},l.a.createElement(F.a,null))),l.a.createElement(B.a,null),l.a.createElement(y.a,null,l.a.createElement(w.a,{button:!0,component:u.b,to:"/",onClick:I("Home")},l.a.createElement(C.a,null,l.a.createElement(U.a,null)),l.a.createElement(x.a,{primary:"Home"}),"Home"===h&&l.a.createElement(C.a,null,l.a.createElement(A.a,{onClick:N},l.a.createElement(F.a,null)))),l.a.createElement(w.a,{button:!0,component:u.b,to:"/aboutus",onClick:I("AboutUs")},l.a.createElement(C.a,null,l.a.createElement(M.a,null)),l.a.createElement(x.a,{primary:"AboutUs"}),"AboutUs"===h&&l.a.createElement(C.a,null,l.a.createElement(A.a,{onClick:N},l.a.createElement(F.a,null)))),l.a.createElement(w.a,{button:!0,component:u.b,to:"/bookings",onClick:I("Bookings")},l.a.createElement(C.a,null,l.a.createElement(G.a,null)),l.a.createElement(x.a,{primary:"Bookings"}),"Bookings"===h&&l.a.createElement(C.a,null,l.a.createElement(A.a,{onClick:N},l.a.createElement(F.a,null)))),l.a.createElement(w.a,{button:!0,component:u.b,to:"/Book",onClick:I("Book")},l.a.createElement(C.a,null,l.a.createElement(z.a,null)),l.a.createElement(x.a,{primary:"Book"}),"Book"===h&&l.a.createElement(C.a,null,l.a.createElement(A.a,{onClick:N},l.a.createElement(F.a,null)))),l.a.createElement(w.a,{button:!0,component:u.b,to:"/signin",onClick:I("Sign In")},l.a.createElement(C.a,null,l.a.createElement(k.a,null)),l.a.createElement(x.a,{primary:"Sign In"}),"Sign In"===h&&l.a.createElement(C.a,null,l.a.createElement(A.a,{onClick:N},l.a.createElement(F.a,null)))),l.a.createElement(w.a,{button:!0,component:u.b,to:"/contactus",onClick:I("ContactUs")},l.a.createElement(C.a,null,l.a.createElement(J.a,null)),l.a.createElement(x.a,{primary:"ContactUs"}),"ContactUs"===h&&l.a.createElement(C.a,null,l.a.createElement(A.a,{onClick:N},l.a.createElement(F.a,null)))),l.a.createElement(w.a,{button:!0,component:u.b,to:"/userprofile",onClick:I("User Profile")},l.a.createElement(C.a,null,l.a.createElement(R.a,null)),l.a.createElement(x.a,{primary:"User Profile"}),"User Profile"===h&&l.a.createElement(C.a,null,l.a.createElement(A.a,{onClick:N},l.a.createElement(F.a,null)))))),l.a.createElement("main",{className:e.content},l.a.createElement(d.d,null,l.a.createElement(d.b,{path:"/",exact:!0,component:oe}),l.a.createElement(d.b,{path:"/bookings",exact:!0,component:Te}),l.a.createElement(d.b,{path:"/Book",exact:!0,render:function(e){return l.a.createElement(Re,e)}}),l.a.createElement(d.b,{path:"/seatSelection/",exact:!0,render:function(e){return l.a.createElement(He,e)}}),l.a.createElement(d.b,{path:"/payment/",exact:!0,render:function(e){return l.a.createElement(Ge,e)}}),l.a.createElement(d.b,{path:"/signin",component:ve}),l.a.createElement(d.b,{path:"/signup",component:he}),l.a.createElement(d.b,{path:"/password_reset",component:je}),l.a.createElement(d.b,{path:"/password_change",component:ye}),l.a.createElement(d.b,{path:"/aboutus",component:Xe}),l.a.createElement(d.b,{path:"/contactus",component:nt}),l.a.createElement(d.b,{path:"/userprofile",component:ut})))))}a(218);var bt=function(){return l.a.createElement("div",{className:"home"},l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"row align-items-center my-5"},l.a.createElement("div",{class:"col-lg-5"},l.a.createElement("h1",{class:"font-weight-light"},"This is my error page!!")))))},ht=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,null),l.a.createElement(u.a,null,l.a.createElement(d.d,null,l.a.createElement(d.b,{path:"/",exact:!0,component:function(){return l.a.createElement(gt,null)}}),l.a.createElement(d.b,{path:"*",exact:!0,component:function(){return l.a.createElement(bt,null)}}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(ht,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[151,1,2]]]);
//# sourceMappingURL=main.022beab9.chunk.js.map