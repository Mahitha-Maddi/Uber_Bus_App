(this.webpackJsonprxshell=this.webpackJsonprxshell||[]).push([[0],{126:function(e,t,a){e.exports=a(155)},131:function(e,t,a){},133:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},151:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),o=a.n(l),c=(a(131),a(30)),s=a(31),i=a(36),m=a(35),u=a(220),p=a(4),d=a(10),g=a(97),b=a(5),h=(a(132),a(16)),f=a(15),E=a(22),v=(a(133),a(221)),j=a(222),O=a(81),S=a(229),y=a(210),w=a(161),N=a(225),C=a(226),x=a(208),I=a(224),k=a(223),B=a(111),A=a.n(B),T=a(39),D=a.n(T),P=a(62),F=a.n(P),U=a(80),W=a.n(U);a(98);var J=a(6),R=a(99),q=a.n(R);var _=Object(J.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper,marginTop:"200px"}}}))((function(e){var t=e.classes,a=Object(n.useState)(!1),l=Object(p.a)(a,2);return l[0],l[1],r.a.createElement("div",{className:t.root},r.a.createElement("h1",{className:"heading",color:"black"},"Welcome to UberBus"),r.a.createElement("img",{src:q.a,alt:"home"}))})),M=a(21),G=a.n(M),H=a(32),L=a(209),Y=a(211),z=a(113),V=Object(x.a)((function(e){var t;return{paper:(t={width:"auto",marginLeft:e.spacing(3),marginRight:e.spacing(3)},Object(d.a)(t,e.breakpoints.up(620+e.spacing(6)),{width:400,marginLeft:"auto",marginRight:"auto"}),Object(d.a)(t,"marginTop",e.spacing(8)),Object(d.a)(t,"display","flex"),Object(d.a)(t,"flexDirection","column"),Object(d.a)(t,"alignItems","center"),Object(d.a)(t,"padding","".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")),t),avatar:{margin:e.spacing(1),width:192,height:192,color:e.palette.secondary.main},form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"}}})),K=function(){var e=V(),t=Object(h.g)(),a=Object(n.useState)(""),l=Object(p.a)(a,2),o=l[0],c=l[1],s=Object(n.useState)(""),i=Object(p.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)(""),g=Object(p.a)(d,2),b=g[0],f=g[1],E=Object(n.useState)(""),v=Object(p.a)(E,2),j=v[0],S=v[1],y=Object(n.useState)(""),w=Object(p.a)(y,2),N=w[0],C=w[1],x=Object(n.useState)(""),I=Object(p.a)(x,2),k=I[0],B=I[1],A=function(){var e=Object(H.a)(G.a.mark((function e(a,n,r,l,o){var c,s,i,m;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={username:a,password:n,email:r,contact:l,dob:o},e.prev=1,s={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)},e.next=5,fetch("http://localhost:5000/signup",s);case 5:return(i=e.sent).ok?console.log("success on send."):alert("response: "+i.toString()),e.prev=7,e.next=10,i.json();case 10:m=e.sent,console.log("on reply:"),console.log(m),alert(m),t.push("/"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(7),console.log(e.t0),alert("exception on reply!");case 21:e.next=27;break;case 23:e.prev=23,e.t1=e.catch(1),console.log(e.t1),alert("exception on send");case 27:case"end":return e.stop()}}),e,null,[[1,23],[7,17]])})));return function(t,a,n,r,l){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{className:e.paper,elevation:6},r.a.createElement("div",{className:e.container},r.a.createElement(O.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),A(o,b,m,k,N)},noValidate:!0},r.a.createElement(L.a,{value:o,onInput:function(e){return c(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0}),r.a.createElement(L.a,{value:m,onInput:function(e){return u(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"E-Mail",name:"email",autoComplete:"email"}),r.a.createElement(L.a,{value:b,onInput:function(e){return f(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(L.a,{value:j,onInput:function(e){return S(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password_confirm",label:"Confirm Password",type:"password",id:"password_confirm",autoComplete:"current-password"}),r.a.createElement(L.a,{value:N,onInput:function(e){return C(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"dob",label:"Date of Birth(MM/DD/YYYY)",id:"dob",autoComplete:"DOB"}),r.a.createElement(L.a,{value:k,onInput:function(e){return B(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"contact",label:"Contact Number",id:"contact",autoComplete:"contact"}),r.a.createElement(Y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign up")))))};function X(e,t,a){if("undefined"!==typeof Storage)try{localStorage.setItem("twtr:auth",JSON.stringify(e)),localStorage.setItem("userid",t),localStorage.setItem("username",a),console.log("username: ",localStorage.getItem("username"))}catch(n){console.log(n)}}var Z=Object(x.a)((function(e){var t;return{paper:(t={width:"auto",marginLeft:e.spacing(3),marginRight:e.spacing(3)},Object(d.a)(t,e.breakpoints.up(620+e.spacing(6)),{width:400,marginLeft:"auto",marginRight:"auto"}),Object(d.a)(t,"marginTop",e.spacing(8)),Object(d.a)(t,"display","flex"),Object(d.a)(t,"flexDirection","column"),Object(d.a)(t,"alignItems","center"),Object(d.a)(t,"padding","".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")),t),avatar:{margin:e.spacing(1),width:192,height:192,color:e.palette.secondary.main},form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},buttonPadding:{marginBottom:"30px"}}})),Q=function(){var e=Z(),t=Object(h.g)(),a=Object(n.useState)(""),l=Object(p.a)(a,2),o=l[0],c=l[1],s=Object(n.useState)(""),i=Object(p.a)(s,2),m=i[0],u=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{className:e.paper,elevation:6},r.a.createElement("div",{className:e.container},r.a.createElement(O.a,{component:"h1",variant:"h5",className:e.padding},"Sign Out"),r.a.createElement(O.a,{gutterBottom:!0},"If you are not the only one on this device."),r.a.createElement(Y.a,{fullWidth:!0,variant:"contained",margin:"normal",color:"secondary",onClick:function(){!function(){if("undefined"!==typeof Storage)try{localStorage.removeItem("twtr:auth"),localStorage.removeItem("userid"),localStorage.removeItem("username")}catch(e){console.log(e)}}(),t.push("/")},className:e.buttonPadding},"Sign Out"),r.a.createElement(O.a,{component:"h1",variant:"h5",className:e.padding},"Fast Sign In"),r.a.createElement(O.a,{gutterBottom:!0},"If this is your device."),r.a.createElement(Y.a,{fullWidth:!0,variant:"contained",margin:"normal",color:"primary",onClick:function(){var e=function(){if("undefined"!==typeof Storage)try{var e=JSON.parse(localStorage.getItem("twtr:auth"));return console.log(e),e}catch(t){console.log(t)}}(),a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)};fetch("http://localhost:5000/fastlogin",a).then((function(e){return e.json()})).then((function(e){console.log("received these keys in return:"),console.log(e),console.log(e[0].access_token),console.log(e[0].refresh_token),X({access:e[0].access_token,refresh:e[0].refresh_token},e[0].userid,e[0].username),t.push("/")})).catch((function(e){alert(e),console.log(e)}))},className:e.buttonPadding},"Sign In"),r.a.createElement(O.a,{component:"h1",variant:"h5"},"Password Sign In"),r.a.createElement(O.a,{gutterBottom:!0},"You may password-sign-in on any device."),r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault();var a={name:o,password:m},n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)};console.log("sending out:"),console.log(a),fetch("http://localhost:5000/login",n).then((function(e){return e.json()})).then((function(e){console.log("received these keys in return:"),console.log(e),console.log(e[0].access_token),console.log(e[0].refresh_token),console.log("---"),X({access:e[0].access_token,refresh:e[0].refresh_token},e[0].userid,e[0].username),t.push("/")})).catch((function(e){alert(e),console.log(e)}))},noValidate:!0},r.a.createElement(L.a,{value:o,onInput:function(e){return c(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0}),r.a.createElement(L.a,{value:m,onInput:function(e){return u(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(Y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign in")),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"}},r.a.createElement(f.a,{to:"/password_reset"},"Forgot Password?"),r.a.createElement(f.a,{to:"/signup"},"Register")))))},$=Object(x.a)((function(e){var t;return{paper:(t={width:"auto",marginLeft:e.spacing(3),marginRight:e.spacing(3)},Object(d.a)(t,e.breakpoints.up(620+e.spacing(6)),{width:400,marginLeft:"auto",marginRight:"auto"}),Object(d.a)(t,"marginTop",e.spacing(8)),Object(d.a)(t,"display","flex"),Object(d.a)(t,"flexDirection","column"),Object(d.a)(t,"alignItems","center"),Object(d.a)(t,"padding","".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")),t),avatar:{margin:e.spacing(1),width:192,height:192,color:e.palette.secondary.main},form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"}}})),ee=function(){var e=$(),t=Object(h.g)(),a=Object(n.useState)(""),l=Object(p.a)(a,2),o=l[0],c=l[1],s=Object(n.useState)(""),i=Object(p.a)(s,2);i[0],i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{className:e.paper,elevation:6},r.a.createElement("div",{className:e.container},r.a.createElement(O.a,{component:"h1",variant:"h5"},"Password reset"),r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),t.replace("/signin")},noValidate:!0},r.a.createElement(L.a,{value:o,onInput:function(e){return c(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"E-Mail",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(Y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Reset Password")))))},te=Object(x.a)((function(e){var t;return{paper:(t={width:"auto",marginLeft:e.spacing(3),marginRight:e.spacing(3)},Object(d.a)(t,e.breakpoints.up(620+e.spacing(6)),{width:400,marginLeft:"auto",marginRight:"auto"}),Object(d.a)(t,"marginTop",e.spacing(8)),Object(d.a)(t,"display","flex"),Object(d.a)(t,"flexDirection","column"),Object(d.a)(t,"alignItems","center"),Object(d.a)(t,"padding","".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")),t),avatar:{margin:e.spacing(1),width:192,height:192,color:e.palette.secondary.main},form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"}}})),ae=function(){var e=te(),t=Object(h.g)(),a=Object(n.useState)(""),l=Object(p.a)(a,2),o=l[0],c=l[1],s=Object(n.useState)(""),i=Object(p.a)(s,2);i[0],i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{className:e.paper,elevation:6},r.a.createElement("div",{className:e.container},r.a.createElement(O.a,{component:"h1",variant:"h5"},"Password reset"),r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),t.replace("/signin")},noValidate:!0},r.a.createElement(L.a,{value:o,onInput:function(e){return c(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"E-Mail",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(Y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Reset Password")))))},ne=a(78),re=a(230),le=a(213),oe=a(214),ce=a(215),se=a(212),ie=Object(x.a)((function(e){return{root:{width:350,paddingTop:40},media:{height:140,paddingTop:300},card:{flexGrow:1,padding:e.spacing(2)}}})),me=function(e){console.log("dateOfTravel:",e);var t=Date.parse(e),a=function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear(),r=a<10?"0"+a:""+a,l=t<10?"0"+t:""+t,o=n+"-"+r+"-"+l;return console.log("dateresult:",o),o}("/"),n=Date.parse(a);return console.log("d1:",t),console.log("d2:",n),t<=n?(console.log("checkDisabled:",1),1):(console.log("checkDisabled:",0),0)},ue=(re.a.create({container:{backgroundColor:"whitesmoke",marginTop:"60px"},centering:{alignItems:"center",justifyContent:"center",padding:8,height:"100vh"}}),function(){var e=ie(),t=r.a.useState([]),a=Object(p.a)(t,2),l=a[0],o=a[1],c=r.a.useState(!0),s=Object(p.a)(c,2),i=(s[0],s[1]),m=r.a.useState(""),u=Object(p.a)(m,2);u[0],u[1];return Object(n.useEffect)((function(){console.log("username:",localStorage.getItem("username")),function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://localhost:5000/bookings-results",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:localStorage.getItem("username")})}).then((function(e){return e.json()})).then((function(e){console.log(e),o(Object(ne.a)(e)),i(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),null===localStorage.getItem("userid")||void 0===localStorage.getItem("userid")?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"Please login!"):r.a.createElement("div",{className:e.card},r.a.createElement(se.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"flex-start"},l.map((function(t){return r.a.createElement(se.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(le.a,{className:e.root},r.a.createElement(oe.a,{className:e.media,image:"https://assets.bwbx.io/images/users/iqjWHBFdfxIU/ieN2q3c75kbM/v0/1000x-1.jpg",title:"UBER BUS"}),r.a.createElement(ce.a,null,r.a.createElement(O.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.user),r.a.createElement(O.a,{gutterBottom:!0,variant:"h6",component:"h6"},"Source : ",t.source),r.a.createElement(O.a,{gutterBottom:!0,variant:"h6",component:"h6"},"Destination : ",t.destination),r.a.createElement(O.a,{gutterBottom:!0,variant:"h6",component:"h6"},"Date of Journey : ",t.date),r.a.createElement(O.a,{gutterBottom:!0,variant:"h6",component:"h6"},"Total Price : ",t.totalPrice),r.a.createElement(O.a,{gutterBottom:!0,variant:"h6",component:"h6"},"Number of seats booked: ",t.numOfSeats),r.a.createElement("button",{disabled:me(t.date),onClick:function(e,a){return function(e,t){e.preventDefault();var a={bookingid:t},n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)};fetch("http://localhost:5000/cancelBooking",n).then((function(e){return e.json()})).then((function(e){i(!1),window.location.reload()}))}(e,t._id)}},"cancel"))))}))))}),pe=function(e){var t=e.formErrors;return r.a.createElement("div",{className:"formErrors"},Object.keys(t).map((function(e,a){return t[e].length>0?r.a.createElement("p",{key:a},e," ",t[e]):""})))};r.a.Component;var de=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"This is my error page!!"))},ge=(a(145),a(163)),be=a(216),he=a(166),fe=a(160),Ee=a(159),ve=a(77);a(146);function je(e){var t=e.value,a=Object(n.useState)(""),l=Object(p.a)(a,2),o=(l[0],l[1]),c=Object(n.useState)(!1),s=Object(p.a)(c,2),i=(s[0],s[1],Object(n.useState)(!1)),m=Object(p.a)(i,2),u=m[0],d=m[1],g=Object(n.useState)(!0),b=Object(p.a)(g,2),f=b[0],E=b[1];Object(n.useEffect)((function(){o(t)}),[t]);var v=Object(h.g)();return r.a.createElement("div",{className:""},t.map((function(e,t){return r.a.createElement("div",{key:t,className:"card mt-5 buslist"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{class:"row ml-3"},r.a.createElement("div",{class:"col-6 col-sm-3 mt-2 font-weight-bold "},"Bus Number"),r.a.createElement("div",{class:"col-6 col-sm-3 mt-2 font-weight-bold "},"Start Time"),r.a.createElement("div",{class:"col-6 col-sm-3 mt-2 font-weight-bold "},"End Time"),r.a.createElement("div",{class:"col-6 col-sm-3 mt-2 font-weight-bold "},"Price per seat"),r.a.createElement("div",{class:"w-100 d-none d-md-block"}),r.a.createElement("div",{class:"col-6 col-sm-3 mb-4"},e.busnumber),r.a.createElement("div",{class:"col-6 col-sm-3 mb-4"},e.startTime),r.a.createElement("div",{class:"col-6 col-sm-3 mb-4"},e.endTime),r.a.createElement("div",{class:"col-6 col-sm-3 mb-4"},e.price),r.a.createElement("div",{class:"col-6 col-sm-4 mb-2 ml-0"},r.a.createElement("button",{className:f?"btn btn-primary btn-md":"btn btn-primary btn-md disabled",onClick:function(t,a,n,l,o,c,s,i){!function(e,t,a,n,l,o,c,s){var i=localStorage.getItem("username");fetch("http://localhost:5000/overlapCheck",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:i})}).then((function(e){return console.log(e),e.json()})).then((function(i){console.log("our date:",i);var m=0;if(i.map((function(e){if(Date.parse(l)>=Date.parse(e.startTime)&&Date.parse(l)<Date.parse(e.endTime)||Date.parse(o)>Date.parse(e.startTime)&&Date.parse(o)<=Date.parse(e.endTime))return alert("Your bookings might overlap with each other!!"),m++,void window.location.reload()})),0==m)return localStorage.setItem("selectedBusId",e),localStorage.setItem("busPrice",t),localStorage.setItem("source",a),localStorage.setItem("destination",n),localStorage.setItem("startTime",l),localStorage.setItem("endTime",o),localStorage.setItem("BusNum",c),localStorage.setItem("busDate",s),E(!1),d(!0),alert("Hello"),v.push("/seatSelection/"),r.a.createElement(h.a,{to:"/seatSelection/"})})).catch((function(e){console.log("Request failed",e),alert(e)}))}(e._id,e.price,e.source,e.destination,e.startTime,e.endTime,e.busnumber,e.date)}},"Book Now"))))})),r.a.createElement("div",{className:u?"activeArrow":"nonActive"},r.a.createElement(ve.a,null)))}function Oe(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)("Source"),c=Object(p.a)(o,2),s=c[0],i=c[1],m=Object(n.useState)("Destination"),u=Object(p.a)(m,2),d=u[0],g=u[1],b=Object(n.useState)(""),h=Object(p.a)(b,2),f=h[0],E=h[1],v=Object(n.useState)(""),j=Object(p.a)(v,2),O=(j[0],j[1]),S=Object(n.useState)(""),y=Object(p.a)(S,2),w=y[0],N=y[1],C=Object(n.useState)(""),x=Object(p.a)(C,2),I=x[0],k=x[1],B=Object(n.useState)(!1),A=Object(p.a)(B,2),T=A[0],D=A[1],P=Object(n.useState)(!1),F=Object(p.a)(P,2),U=F[0],W=F[1],J=Object(n.useState)(""),R=Object(p.a)(J,2),q=R[0],_=R[1],M=Object(n.useState)(""),G=Object(p.a)(M,2),H=G[0],Y=G[1];return r.a.createElement("div",{className:"rdc"},r.a.createElement("div",{className:"form-group inline"}),r.a.createElement("div",{className:"main-container"},r.a.createElement("form",{className:"form-inline",onSubmit:function(e){return function(e){return e.preventDefault(),console.log(s,d),"Source"===s?(D(!0),void _("Please select the origin")):"Destination"===d?(W(!0),void Y("Please select the destination")):s===d?(O(!0),void k("Source and Destination should be different")):(O(!1),k(""),void fetch("http://localhost:5000/checkAvailability",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source:s,destination:d,date:f.date,user:localStorage.getItem("username")})}).then((function(e){return console.log(e),e.json()})).then((function(e){console.log("our date:",e),l(e),N(401===e?"invalid":"")})).catch((function(e){console.log("Request failed",e),alert(e)})))}(e)}},r.a.createElement(Ee.a,{error:T},r.a.createElement(he.a,{id:"demo-simple-select-helper-label"},"Source City"),r.a.createElement(ge.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:s,onChange:function(e){!function(e){e.preventDefault(),console.log(s),""==e.target.value?(D(!0),_("Please select the origin")):(D(!1),_("")),i(e.target.value),localStorage.setItem("start",e.target.value),console.log("start",e.target.value)}(e)}},r.a.createElement(be.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(be.a,{value:"Chennai"},"Chennai"),r.a.createElement(be.a,{value:"Hyderabad"},"Hyderabad"),r.a.createElement(be.a,{value:"Bangalore"},"Bangalore")),r.a.createElement(fe.a,null,q)),r.a.createElement("div",{style:{display:"inline",float:"right",paddingLeft:"200px"}}),r.a.createElement(Ee.a,{error:U},r.a.createElement(he.a,{id:"demo-simple-select-helper-label"},"Destination City"),r.a.createElement(ge.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:d,onChange:function(e){!function(e){""==e.target.value?(W(!0),Y("Please select the destination")):(W(!1),Y("")),g(e.target.value),localStorage.setItem("destination",e.target.value),console.log("destination",e.target.value)}(e)}},r.a.createElement(be.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(be.a,{value:"Hyderabad"},"Hyderabad"),r.a.createElement(be.a,{value:"Coimbatore"},"Coimbatore"),r.a.createElement(be.a,{value:"Bangalore"},"Bangalore")),r.a.createElement(fe.a,null,H)),r.a.createElement("div",{style:{paddingLeft:"200px"}},r.a.createElement(L.a,{id:"date",label:"Date of Journey",type:"date",onChange:function(e){!function(e){e.preventDefault(),E({date:e.target.value}),localStorage.setItem("date",e.target.value)}(e)},defaultValue:f,inputProps:{min:function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")}(new Date)},InputLabelProps:{shrink:!0},required:!0})),r.a.createElement("input",{type:"submit",className:" btn btn-primary btn-md getRoute"})),r.a.createElement("div",null,function(e){return 0!==I.length?r.a.createElement("div",null,"Source and destination cannot be same!"):0!==w.length?r.a.createElement("div",null,"Overlapping period!!"):Object.keys(e).length>0?r.a.createElement(je,{value:e}):void 0}(a))))}function Se(e){e.history;return null===localStorage.getItem("userid")||void 0===localStorage.getItem("userid")?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"Please login!"):r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-pills"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link active","data-toggle":"pill",href:"#home"},"Select Bus"))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{className:"tab-pane container active mn-box",id:"home"},r.a.createElement(Oe,null)))))}a(147);function ye(){var e=Object(n.useRef)(),t=Object(n.useState)(""),a=Object(p.a)(t,2),l=(a[0],a[1],Object(n.useState)([])),o=Object(p.a)(l,2),c=(o[0],o[1],Object(n.useState)(!1)),s=Object(p.a)(c,2),i=s[0],m=s[1],u=Object(n.useState)(null),d=Object(p.a)(u,2),g=d[0],b=d[1],h=function(){console.log(localStorage.getItem("selectedBusId"));var e={busid:localStorage.getItem("selectedBusId"),seat1A:localStorage.getItem("1A"),seat1B:localStorage.getItem("1B"),seat1C:localStorage.getItem("1C"),seat2A:localStorage.getItem("2A"),seat2B:localStorage.getItem("2B"),seat2C:localStorage.getItem("2C"),seat3A:localStorage.getItem("3A"),seat3B:localStorage.getItem("3B"),seat3C:localStorage.getItem("3C")};console.log("2c: ",localStorage.getItem("2C")),alert("2c: "+localStorage.getItem("2C"));var t={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)};fetch("http://localhost:5000/saveBookedSeats",t).then((function(e){return e.json()})).then((function(e){alert("Reserved seats!")}))},f=function(){console.log("username: ",localStorage.getItem("username"));var e={busnumber:localStorage.getItem("BusNum"),user:localStorage.getItem("username"),source:localStorage.getItem("source"),destination:localStorage.getItem("destination"),startTime:localStorage.getItem("startTime"),endTime:localStorage.getItem("endTime"),date:localStorage.getItem("busDate"),numOfSeats:localStorage.getItem("numOfSeats"),totalPrice:localStorage.getItem("totalPrice")},t={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)};fetch("http://localhost:5000/saveBooking",t).then((function(e){return e.json()})).then((function(e){alert("Booking saved!! "+e),localStorage.setItem("bookingID",e)}))},E=function(e,t){alert("hello passenger");var a={bookingID:localStorage.getItem("bookingID"),fullname:e,gender:t},n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)};fetch("http://localhost:5000/savePassengerDetails",n).then((function(e){return e.json()})).then((function(e){alert("Saved passenger! "+e)}))};return Object(n.useEffect)((function(){var t=localStorage.getItem("busPrice");console.log("price: ",t),console.log("local2: ",localStorage.getItem("passengers"));var a=localStorage.getItem("numOfSeats");console.log("length: ",a);var n=t*a;alert(n),localStorage.setItem("totalPrice",n),window.paypal.Buttons({createOrder:function(e,t,a){return t.order.create({intent:"CAPTURE",purchase_units:[{description:"Cool looking table",amount:{currency_code:"USD",value:n}}]})},onApprove:function(){var e=Object(H.a)(G.a.mark((function e(t,a){var n,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),h(),f(),n=JSON.parse(localStorage.getItem("passengers")||"[]"),alert(n),console.log("passengers length: ",n.length),n.map((function(e){console.log(e),console.log(e.passengerName),console.log(e.passengerGender),E(e.passengerName,e.passengerGender)})),e.next=9,a.order.capture();case 9:r=e.sent,console.log(r);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),onError:function(e){b(e),console.log(e)}}).render(e.current)}),[]),i?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h1",null,"Congrats, your booking is successful!")):r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),g&&r.a.createElement("div",null,"Uh oh, an error occurred! ",g.message),r.a.createElement("div",{ref:e}))}function we(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=(t[0],t[1],Object(n.useState)([])),l=Object(p.a)(a,2),o=l[0],c=l[1],s=Object(n.useState)([]),i=Object(p.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)([]),g=Object(p.a)(d,2),b=g[0],E=g[1],v=Object(n.useState)([]),j=Object(p.a)(v,2),O=j[0],S=j[1],y=Object(n.useState)([]),w=Object(p.a)(y,2),N=w[0],C=w[1],x=Object(n.useState)([]),I=Object(p.a)(x,2),k=I[0],B=I[1],A=Object(n.useState)([]),T=Object(p.a)(A,2),D=T[0],P=T[1],F=Object(n.useState)([]),U=Object(p.a)(F,2),W=U[0],J=U[1],R=Object(n.useState)([]),q=Object(p.a)(R,2),_=q[0],M=q[1],G=Object(n.useState)(!1),H=Object(p.a)(G,2),L=H[0],Y=(H[1],Object(n.useState)([])),z=Object(p.a)(Y,2),V=(z[0],z[1],Object(n.useState)([])),K=Object(p.a)(V,2),X=(K[0],K[1],Object(n.useState)([])),Z=Object(p.a)(X,2),Q=Z[0],$=Z[1],ee=Object(n.useState)([]),te=Object(p.a)(ee,2),ae=(te[0],te[1],Object(n.useState)(!1)),re=Object(p.a)(ae,2),le=re[0],oe=(re[1],Object(n.useState)("")),ce=Object(p.a)(oe,2),se=ce[0],ie=ce[1],me=Object(n.useState)(""),ue=Object(p.a)(me,2),pe=ue[0],de=ue[1],ge=Object(n.useState)(""),be=Object(p.a)(ge,2),he=be[0],fe=be[1],Ee=Object(n.useState)(""),je=Object(p.a)(Ee,2),Oe=je[0],Se=je[1],we=Object(n.useState)(""),Ne=Object(p.a)(we,2),Ce=Ne[0],xe=Ne[1],Ie=Object(n.useState)(""),ke=Object(p.a)(Ie,2),Be=ke[0],Ae=ke[1],Te=Object(n.useState)(""),De=Object(p.a)(Te,2),Pe=De[0],Fe=De[1],Ue=Object(n.useState)(""),We=Object(p.a)(Ue,2),Je=We[0],Re=We[1],qe=Object(n.useState)(""),_e=Object(p.a)(qe,2),Me=_e[0],Ge=_e[1],He=Object(n.useState)(""),Le=Object(p.a)(He,2),Ye=Le[0],ze=Le[1],Ve=Object(n.useState)(""),Ke=Object(p.a)(Ve,2),Xe=Ke[0],Ze=Ke[1],Qe=Object(n.useState)(""),$e=Object(p.a)(Qe,2),et=$e[0],tt=$e[1],at=Object(n.useState)(""),nt=Object(p.a)(at,2),rt=nt[0],lt=nt[1],ot=Object(n.useState)(""),ct=Object(p.a)(ot,2),st=ct[0],it=ct[1],mt=Object(n.useState)(""),ut=Object(p.a)(mt,2),pt=ut[0],dt=ut[1],gt=Object(n.useState)(""),bt=Object(p.a)(gt,2),ht=bt[0],ft=bt[1],Et=Object(n.useState)(""),vt=Object(p.a)(Et,2),jt=vt[0],Ot=vt[1],St=Object(n.useState)(""),yt=Object(p.a)(St,2),wt=yt[0],Nt=yt[1],Ct=Object(h.g)();Object(n.useEffect)((function(){console.log(localStorage.getItem("selectedBusId"));var e={busid:localStorage.getItem("selectedBusId")},t={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)};fetch("http://localhost:5000/availableseats",t).then((function(e){return e.json()})).then((function(e){c(e[0].FA),u(e[0].FB),E(e[0].FC),S(e[0].SA),C(e[0].SB),B(e[0].SC),P(e[0].TA),J(e[0].TB),M(e[0].TC),localStorage.setItem("1A",e[0].FA),localStorage.setItem("1B",e[0].FB),localStorage.setItem("1C",e[0].FC),localStorage.setItem("2A",e[0].SA),localStorage.setItem("2B",e[0].SB),localStorage.setItem("2C",e[0].SC),localStorage.setItem("3A",e[0].TA),localStorage.setItem("3B",e[0].TB),localStorage.setItem("3C",e[0].TC)}))}));var xt=function(e,t){var a=e.target.value;"1A"===t?ie(a):"1B"===t?fe(a):"1C"===t?(xe(a),console.log(Ce)):"2A"===t?Fe(a):"2B"===t?Ge(a):"2C"===t?Ze(a):"3A"===t?lt(a):"3B"===t?dt(a):"3C"===t&&Ot(a)},It=function(e){return e.map((function(e,t){return r.a.createElement("form",{key:t,className:"form seatfrm"},r.a.createElement("p",{class:"text-capitalize text-center"},"Seat No:",e),r.a.createElement("input",{className:"form-control seatInp",onKeyUp:function(t){return function(e,t){e.preventDefault();var a=e.target.value;"1A"===t?de(a):"1B"===t?Se(a):"1C"===t?(Ae(a),console.log(Be)):"2A"===t?Re(a):"2B"===t?ze(a):"2C"===t?tt(a):"3A"===t?it(a):"3B"===t?ft(a):"3C"===t&&Nt(a)}(t,e)},type:"text",name:"passenger-name",placeholder:"Enter Name"}),r.a.createElement("div",{class:"form-check form-check-inline"},r.a.createElement("input",{class:"form-check-input",type:"radio",name:"gender",id:"male",value:"Male",onClick:function(t){return xt(t,e)}}),r.a.createElement("label",{class:"form-check-label",for:"male"},"Male")),r.a.createElement("div",{class:"form-check form-check-inline"},r.a.createElement("input",{class:"form-check-input",type:"radio",name:"gender",id:"female",value:"Female",onClick:function(t){return xt(t,e)}}),r.a.createElement("label",{class:"form-check-label",htmlFor:"female"},"Female")))}))};return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(f.a,{to:"/Book"},"back"),r.a.createElement("div",{className:"ss"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column1"},r.a.createElement("div",{className:"plane"},r.a.createElement("form",{onChange:function(e){return function(e){var t=e.target.value;Q.includes(t)?$(Q.filter((function(e){return e!==t}))):($([].concat(Object(ne.a)(Q),[t])),console.log(Q)),It(Q)}(e)}},r.a.createElement("ol",{className:"cabin fuselage"},r.a.createElement("li",{className:"row row--1"},r.a.createElement("ol",{className:"seats",type:"A"},r.a.createElement("li",{className:"seat"},r.a.createElement("input",{type:"checkbox",disabled:o,value:"1A",id:"1A"}),r.a.createElement("label",{htmlFor:"1A"},"1A")),r.a.createElement("li",{className:"seat"},r.a.createElement("input",{type:"checkbox",disabled:m,id:"1B",value:"1B"}),r.a.createElement("label",{htmlFor:"1B"},"1B")),r.a.createElement("li",{className:"seat"},r.a.createElement("input",{type:"checkbox",disabled:b,value:"1C",id:"1C"}),r.a.createElement("label",{htmlFor:"1C"},"1C")))),r.a.createElement("li",{className:"row row--2"},r.a.createElement("ol",{className:"seats",type:"A"},r.a.createElement("li",{className:"seat"},r.a.createElement("input",{type:"checkbox",disabled:O,value:"2A",id:"2A"}),r.a.createElement("label",{htmlFor:"2A"},"2A")),r.a.createElement("li",{className:"seat"},r.a.createElement("input",{type:"checkbox",disabled:N,value:"2B",id:"2B"}),r.a.createElement("label",{htmlFor:"2B"},"2B")),r.a.createElement("li",{className:"seat"},r.a.createElement("input",{type:"checkbox",disabled:k,value:"2C",id:"2C"}),r.a.createElement("label",{htmlFor:"2C"},"2C")))),r.a.createElement("li",{className:"row row--3"},r.a.createElement("ol",{className:"seats",type:"A"},r.a.createElement("li",{className:"seat"},r.a.createElement("input",{type:"checkbox",disabled:D,value:"3A",id:"3A"}),r.a.createElement("label",{htmlFor:"3A"},"3A")),r.a.createElement("li",{className:"seat"},r.a.createElement("input",{type:"checkbox",disabled:W,value:"3B",id:"3B"}),r.a.createElement("label",{htmlFor:"3B"},"3B")),r.a.createElement("li",{className:"seat"},r.a.createElement("input",{type:"checkbox",disabled:_,value:"3C",id:"3C"}),r.a.createElement("label",{htmlFor:"3C"},"3C")))))))),r.a.createElement("div",{className:"column2"},r.a.createElement("div",{className:"seatInfo"},r.a.createElement("form",{className:"form-group"},It(Q)),r.a.createElement("div",null,r.a.createElement("div",{className:"App"},le?r.a.createElement(ye,null):r.a.createElement("button",{onClick:function(e){return function(e){e.preventDefault();var t=[];return Q.includes("1A")&&t.push({seatNo:"1A",passengerName:pe,passengerGender:se}),Q.includes("1B")&&t.push({seatNo:"1B",passengerName:Oe,passengerGender:he}),Q.includes("1C")&&t.push({seatNo:"1C",passengerName:Be,passengerGender:Ce}),Q.includes("2A")&&t.push({seatNo:"2A",passengerName:Je,passengerGender:Pe}),Q.includes("2B")&&t.push({seatNo:"2B",passengerName:Ye,passengerGender:Me}),Q.includes("2C")&&t.push({seatNo:"2C",passengerName:et,passengerGender:Xe}),Q.includes("3A")&&t.push({seatNo:"3A",passengerName:st,passengerGender:rt}),Q.includes("3B")&&t.push({seatNo:"3B",passengerName:ht,passengerGender:pt}),Q.includes("3C")&&t.push({seatNo:"3C",passengerName:wt,passengerGender:jt}),localStorage.setItem("passengers",JSON.stringify(t)),localStorage.setItem("seatNumber",Q),localStorage.setItem("numOfSeats",t.length),console.log("x:length: ",t.length),console.log("Passengers: ",localStorage.getItem("passengers")),Q.map((function(e){console.log("minemap:",{seat:e}),e.includes("1A")&&(localStorage.setItem("1A",1),alert("1A: "+localStorage.getItem("1A"))),e.includes("1B")&&(localStorage.setItem("1B",1),alert("1B: "+localStorage.getItem("1B"))),e.includes("1C")&&(localStorage.setItem("1C",1),alert("1C: "+localStorage.getItem("1C"))),e.includes("2A")&&(localStorage.setItem("2A",1),alert("2A: "+localStorage.getItem("2A"))),e.includes("2B")&&(localStorage.setItem("2B",1),alert("2B: "+localStorage.getItem("2B"))),e.includes("2C")&&(localStorage.setItem("2C",1),alert("2C: "+localStorage.getItem("2C"))),e.includes("3A")&&(localStorage.setItem("3A",1),alert("3A: "+localStorage.getItem("3A"))),e.includes("3B")&&(localStorage.setItem("3B",1),alert("3B: "+localStorage.getItem("3B"))),e.includes("3C")&&(localStorage.setItem("3C",1),alert("3C: "+localStorage.getItem("3C")))})),Ct.push("/payment/"),r.a.createElement(h.a,{to:"/payment/"})}(e)},className:"btn btn-info seatBT"},"checkout"))),r.a.createElement("div",{className:L?"activeArrow2":"nonActive"},r.a.createElement(ve.a,null)))))))}var Ne,Ce,xe=a(217),Ie=a(218),ke=a(219),Be=a(105),Ae=(a(148),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"content-wrapper"},r.a.createElement(xe.a,{src:"/assets/img/about.jpg"}),r.a.createElement("h2",{className:"heading"},"About Us")),r.a.createElement(Ie.a,null,r.a.createElement(xe.a,{src:"/assets/img/travel.jpg",className:"about-pc",rounded:!0,height:"300",width:"500",class:"center"}),r.a.createElement("h3",{className:"text-center"},"Traveling. Tours. Adventure."),r.a.createElement("p",null,"We are committed to offering travel services of the highest quality, combining our energy and enthusiasm, with our years of experience. Our greatest satisfaction comes in serving large numbers of satisfied clients who have experienced the joys and inspiration of travel."),r.a.createElement("p",null,"Behaviour we improving at something to. Evil true high lady roof men had open. To projection considered it precaution an melancholy or. Wound young you thing worse along being ham. Dissimilar of favourable solicitude if sympathize middletons at. Forfeited up if disposing perfectly in an eagerness perceived necessary. Belonging sir curiosity discovery extremity yet forfeited prevailed own off. Travelling by introduced of mr terminated. Knew as miss my high hope quit. In curiosity shameless dependent knowledge up. Whether article spirits new her covered hastily sitting her. Money witty books nor son add. Chicken age had evening believe but proceed pretend mrs. At missed advice my it no sister. Miss told ham dull knew see she spot near can. Spirit her entire her called.")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ie.a,{fluid:!0,className:"team"},r.a.createElement("h1",{className:"text-center"}," Our team"),r.a.createElement("h5",{className:"text-center"},"An experienced team of people passionate about traveling"),r.a.createElement(Ie.a,null,r.a.createElement(ke.a,{className:"show-grid text-center"},r.a.createElement(Be.a,{xs:12,sm:4,className:"person-wrapper"},r.a.createElement(xe.a,{src:"/assets/img/person1.jpg",circle:!0,className:"profile-pic",height:"200",width:"200"}),r.a.createElement("h3",null,"Mari Johnson"),r.a.createElement("h5",null,"Founder and Director"),r.a.createElement("p",null,"\u201cNina was an excellent Travel Agent for us and considered our unique needs as she planned our itinerary. Every suggestion she made was excellent.\u201d ")),r.a.createElement(Be.a,{xs:12,sm:4,className:"person-wrapper"},r.a.createElement(xe.a,{src:"/assets/img/person3.jpg",circle:!0,className:"profile-pic",height:"200",width:"200"}),r.a.createElement("h3",null,"James Anderson"),r.a.createElement("h5",null,"Senior Travel Agent"),r.a.createElement("p",null,"\u201cI would highly recommend Andy because everything on my month long trip to New Zealand, Australia and French Polynesia went without a hitch.\u201d")),r.a.createElement(Be.a,{xs:12,sm:4,className:"person-wrapper"},r.a.createElement(xe.a,{src:"/assets/img/person2.jpg",circle:!0,className:"profile-pic",height:"200",width:"200"}),r.a.createElement("h3",null,"John Smith"),r.a.createElement("h5",null,"Hotel Agent"),r.a.createElement("p",null,"\u201cI would highly recommend Andy because everything on my month long trip to New Zealand, Australia and French Polynesia went without a hitch.\u201d ")))),r.a.createElement("footer",{class:"footer"})))}}]),a}(n.Component)),Te=a(227),De=a(107),Pe=a(106),Fe=a(231),Ue=(a(149),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={value:""},e}return Object(s.a)(a,[{key:"getValidationState",value:function(){var e=this.state.value.length;return e>10?"success":e>5?"warning":e>0?"error":void 0}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){return r.a.createElement(Te.a,{className:"form-element"},r.a.createElement(De.a,{id:"formControlsText",type:"text",label:"Your Name",placeholder:"Your Name"}),r.a.createElement(De.a,{id:"formControlsEmail",type:"email",label:"Email address",placeholder:"Email"}),r.a.createElement(Pe.a,{controlId:"formControlsTextarea"},r.a.createElement(De.a,{componentClass:"textarea",placeholder:"Message"})),r.a.createElement(Fe.a,{bsStyle:"primary",type:"submit"},"Send Message"))}}]),a}(n.Component)),We=(a(151),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"content-wrapper"},r.a.createElement(xe.a,{src:"/assets/img/contact.jpg"}),r.a.createElement("h2",{className:"heading"},"Contact Us")),r.a.createElement(Ie.a,null,r.a.createElement(ke.a,{className:"show-grid text-center"},r.a.createElement(Be.a,{xs:12,sm:4},r.a.createElement("h3",null,"Contact Our Agency"),r.a.createElement("p",null,"At Travel Agency we want to make sure that your trip is everything you could possibly dream of. Whether you want inspiration and guidance in planning your next adventure or need help with an existing booking, our travel experts are here to help. Send us an email or give our team a call to book your flights, plan your adventure or get help with any problems you encounter along the way. Or if you\u2019re in New York, you can visit us in store to speak face to face. Our assistance doesn\u2019t end when you take off either. Our Global Travel Help team are on hand to assist with any issues you may have.")),r.a.createElement(Be.a,{xs:12,sm:4,className:"person-wrapper"},r.a.createElement("h3",null,"Our contacts "),r.a.createElement("ul",{className:" contact-list fa-ul"},r.a.createElement("li",null,r.a.createElement("i",{class:"fas fa-map-marker-alt"})," 123/21 First Street, Manchester, King Street, Kingston United Kingdom"),r.a.createElement("li",null,r.a.createElement("i",{class:"fas fa-phone"})," 345-677-554"),r.a.createElement("li",null,r.a.createElement("i",{class:"fas fa-mobile-alt"})," 323-678-567"),r.a.createElement("li",null,r.a.createElement("i",{class:"far fa-envelope"})," uberbus@gmail.com"))),r.a.createElement(Be.a,{xs:12,sm:4,className:"person-wrapper"},r.a.createElement("h3",null,"Any Questions?"),r.a.createElement(Ue,null)))))}}]),a}(n.Component)),Je=a(79),Re=a(85),qe=a(75),_e=a(76),Me=_e.a.div(Ne||(Ne=Object(qe.a)(["\n  align-self: center;\n  margin-bottom: 30px;\n\n  label {\n    cursor: pointer;\n\n    &:hover {\n      opacity: 0.7;\n    }\n\n    img {\n      height: 120px;\n      width: 120px;\n      border-radius: 50%;\n      border: 3px solid rgba(255, 255, 255, 0.3);\n      background: #eee;\n    }\n\n    input {\n      display: none;\n    }\n  }\n"])));function Ge(){var e=Object(Re.a)("avatar"),t=e.defaultValue,a=e.registerField,l=Object(n.useState)(t&&t.id),o=Object(p.a)(l,2),c=o[0],s=(o[1],Object(n.useState)(t&&t.url)),i=Object(p.a)(s,2),m=i[0],u=(i[1],Object(n.useRef)());function d(){return(d=Object(H.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(new FormData).append("file",t.target.files[0]);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){u.current&&a({name:"avatar_id",ref:u.current,path:"dataset.file"})}),[u,a]),r.a.createElement(Me,null,r.a.createElement("label",{htmlFor:"avatar"},r.a.createElement("img",{src:m||"https://api.adorable.io/avatars/50/abott@adorable.png",alt:"Avatar"}),r.a.createElement("input",{type:"file",id:"avatar",accept:"image/*","data-file":c,onChange:function(e){return d.apply(this,arguments)},ref:u})))}var He=_e.a.div(Ce||(Ce=Object(qe.a)(["\n  max-width: 600px;\n  margin: 0 auto;\n\n  form {\n    display: flex;\n    flex-direction: column;\n    margin-top: 20px;\n\n    input {\n      height: 44px;\n      margin-top: 10px;\n      padding: 0 15px;\n      border: 0;\n      border-radius: 4px;\n      background: rgba(0, 0, 0, 0.1);\n      color: #fff;\n\n      &::placeholder {\n        color: rgba(255, 255, 255, 0.7);\n      }\n    }\n\n    input + span {\n      align-self: flex-start;\n      margin: 5px 15px 0;\n      font-weight: bold;\n      color: #fb6f91;\n    }\n\n    button {\n      height: 44px;\n      margin-top: 10px;\n      border: 0;\n      border-radius: 4px;\n      background: #3b9eff;\n      color: #fff;\n      font-weight: bold;\n      font-size: 16px;\n      transition: background 0.2s;\n\n      &:hover {\n        \n      }\n    }\n\n    hr {\n      border: 0;\n      margin: 20px 0 10px;\n      height: 1px;\n      background: rgba(255, 255, 255, 0.2);\n    }\n\n    span {\n      margin-top: 15px;\n      font-size: 16px;\n      color: #fff;\n      opacity: 0.8;\n\n      a {\n        color: #fff;\n        font-weight: bold;\n        opacity: 0.8;\n\n        &:hover {\n          opacity: 1;\n        }\n      }\n    }\n  }\n\n  > button {\n    width: 100%;\n    height: 44px;\n    margin-top: 20px;\n    border: 0;\n    border-radius: 4px;\n    background: #f64c75;\n    color: #fff;\n    font-weight: bold;\n    font-size: 16px;\n    transition: background 0.2s;\n\n    &:hover {\n      \n    }\n  }\n"])));function Le(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),c=Object(p.a)(o,2),s=c[0],i=c[1],m=Object(n.useState)(""),u=Object(p.a)(m,2),d=u[0],g=u[1],b=Object(n.useState)(""),h=Object(p.a)(b,2),f=h[0],E=h[1],v=Object(n.useState)(""),j=Object(p.a)(v,2),O=j[0],S=j[1],y=Object(n.useState)(""),w=Object(p.a)(y,2),N=w[0],C=w[1],x=Object(n.useState)(""),I=Object(p.a)(x,2),k=I[0],B=I[1];Object(n.useEffect)((function(){var e=localStorage.getItem("username");(function(){var t=Object(H.a)(G.a.mark((function t(){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("http://localhost:5000/userDetails",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e})}).then((function(e){return console.log(e),e.json()})).then((function(e){console.log("our date:",e),console.log("contact: ",e[0].contact),l(e[0].username),i(e[0].email),g(e[0].dob),E(e[0].contact),S(e[0].password)})).catch((function(e){console.log("Request failed",e),alert(e)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);return null===localStorage.getItem("userid")||void 0===localStorage.getItem("userid")?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"Please login!"):r.a.createElement(He,null,r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=""===k?O:k;fetch("http://localhost:5000/updateUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:localStorage.getItem("username"),contact:f,password:t})}).then((function(e){return console.log(e),e.json()})).then((function(e){console.log("our date:",e),alert("Successfully updated!!"),window.location.reload()})).catch((function(e){console.log("Request failed",e),alert(e)}))}(e)}},r.a.createElement(Ge,{name:"avatar_id"}),"UserName:",r.a.createElement("input",{name:"username",placeholder:"Username",value:a,disabled:!0}),"Email:",r.a.createElement("input",{name:"email",type:"email",placeholder:"Email address",value:s,disabled:!0}),"Date Of Birth:",r.a.createElement("input",{name:"dob",placeholder:"Birth Date",value:d,disabled:!0}),"Contact Number:",r.a.createElement(Je.a,{name:"contact",value:f,onSave:function(e){E(e),console.log("contactval: ",e)},submitOnEnter:!0,placeholder:"Contact Number"}),"Password:",r.a.createElement("input",{name:"oldPassword",type:"password",value:O,placeholder:"Current password",disabled:!0}),"New Password",r.a.createElement(Je.a,{name:"password",type:"password",value:N,onSave:function(e){C(e)},submitOnEnter:!0,placeholder:"New password"}),"Confirm Password:",r.a.createElement(Je.a,{name:"confirmPassword",type:"password",value:k,submitOnEnter:!0,onSave:function(e){B(e)},placeholder:"Confirm new password"}),r.a.createElement("button",{type:"submit"},"Update profile")))}var Ye=Object(E.a)(),ze=Object(x.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(g.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(d.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),drawerPaperCollapsed:Object(d.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(0)},e.breakpoints.up("sm"),{width:e.spacing(0)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},footer:{position:"fixed",left:0,bottom:0,width:"100%",backgroundColor:"grey",color:"white",textAlign:"center",fontStyle:"italic"}}}));function Ve(){var e=ze(),t=r.a.useState(!0),a=Object(p.a)(t,2),n=a[0],l=a[1],o=r.a.useState(!1),c=Object(p.a)(o,2),s=c[0],i=c[1],m=r.a.useState("Home"),d=Object(p.a)(m,2),g=d[0],E=d[1],x=function(){i(!0),l(!1)},B=function(e){return function(){E(e)}};return r.a.createElement("div",{className:e.root},r.a.createElement(u.a,null),r.a.createElement(v.a,{position:"absolute",className:Object(b.a)(e.appBar,n&&e.appBarShift,s&&e.appBar)},r.a.createElement(j.a,{title:g,className:e.toolbar},r.a.createElement(k.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){l(!0),i(!1)},className:Object(b.a)(e.menuButton,n&&e.menuButtonHidden)},r.a.createElement(A.a,null)),r.a.createElement(O.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},g))),r.a.createElement(h.c,{history:Ye,title:g},r.a.createElement(S.a,{variant:"permanent",classes:{paper:Object(b.a)(e.drawerPaper,!n&&e.drawerPaperClose,s&&e.drawerPaperCollapsed)},open:n},r.a.createElement("div",{className:e.toolbarIcon},r.a.createElement(k.a,{onClick:function(){l(!1),i(!1)}},r.a.createElement(D.a,null))),r.a.createElement(I.a,null),r.a.createElement(y.a,null,r.a.createElement(w.a,{button:!0,component:f.a,to:"/",onClick:B("Home")},r.a.createElement(N.a,null,r.a.createElement(F.a,null)),r.a.createElement(C.a,{primary:"Home"}),"Home"===g&&r.a.createElement(N.a,null,r.a.createElement(k.a,{onClick:x},r.a.createElement(D.a,null)))),r.a.createElement(w.a,{button:!0,component:f.a,to:"/aboutus",onClick:B("AboutUs")},r.a.createElement(N.a,null,r.a.createElement(F.a,null)),r.a.createElement(C.a,{primary:"AboutUs"}),"AboutUs"===g&&r.a.createElement(N.a,null,r.a.createElement(k.a,{onClick:x},r.a.createElement(D.a,null)))),r.a.createElement(w.a,{button:!0,component:f.a,to:"/bookings",onClick:B("Bookings")},r.a.createElement(N.a,null,r.a.createElement(F.a,null)),r.a.createElement(C.a,{primary:"Bookings"}),"Bookings"===g&&r.a.createElement(N.a,null,r.a.createElement(k.a,{onClick:x},r.a.createElement(D.a,null)))),r.a.createElement(w.a,{button:!0,component:f.a,to:"/Book",onClick:B("Book")},r.a.createElement(N.a,null,r.a.createElement(F.a,null)),r.a.createElement(C.a,{primary:"Book"}),"Book"===g&&r.a.createElement(N.a,null,r.a.createElement(k.a,{onClick:x},r.a.createElement(D.a,null)))),r.a.createElement(w.a,{button:!0,component:f.a,to:"/signin",onClick:B("Sign In")},r.a.createElement(N.a,null,r.a.createElement(W.a,null)),r.a.createElement(C.a,{primary:"Sign In"}),"Sign In"===g&&r.a.createElement(N.a,null,r.a.createElement(k.a,{onClick:x},r.a.createElement(D.a,null)))),r.a.createElement(w.a,{button:!0,component:f.a,to:"/contactus",onClick:B("ContactUs")},r.a.createElement(N.a,null,r.a.createElement(W.a,null)),r.a.createElement(C.a,{primary:"ContactUs"}),"ContactUs"===g&&r.a.createElement(N.a,null,r.a.createElement(k.a,{onClick:x},r.a.createElement(D.a,null)))),r.a.createElement(w.a,{button:!0,component:f.a,to:"/userprofile",onClick:B("User Profile")},r.a.createElement(N.a,null,r.a.createElement(W.a,null)),r.a.createElement(C.a,{primary:"User Profile"}),"User Profile"===g&&r.a.createElement(N.a,null,r.a.createElement(k.a,{onClick:x},r.a.createElement(D.a,null)))))),r.a.createElement("main",{className:e.content},r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/",exact:!0,component:_}),r.a.createElement(h.b,{path:"/bookings",exact:!0,component:ue}),r.a.createElement(h.b,{path:"/Book",exact:!0,render:function(e){return r.a.createElement(Se,e)}}),r.a.createElement(h.b,{path:"/seatSelection/",exact:!0,render:function(e){return r.a.createElement(we,e)}}),r.a.createElement(h.b,{path:"/payment/",exact:!0,render:function(e){return r.a.createElement(ye,e)}}),r.a.createElement(h.b,{path:"/signin",component:Q}),r.a.createElement(h.b,{path:"/signup",component:K}),r.a.createElement(h.b,{path:"/password_reset",component:ee}),r.a.createElement(h.b,{path:"/password_change",component:ae}),r.a.createElement(h.b,{path:"/aboutus",component:Ae}),r.a.createElement(h.b,{path:"/contactus",component:We}),r.a.createElement(h.b,{path:"/userprofile",component:Le}),r.a.createElement(h.b,{path:"*",exact:!0,component:de})))))}a(154);var Ke=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null),r.a.createElement(Ve,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},99:function(e,t,a){e.exports=a.p+"static/media/home.2c088f8c.jpeg"}},[[126,1,2]]]);
//# sourceMappingURL=main.2007ac9e.chunk.js.map